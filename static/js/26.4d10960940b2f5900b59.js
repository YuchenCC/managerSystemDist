webpackJsonp([26],{1066:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(0,u.default)({},m)}function r(){return[{id:"id",project_no:"project_no",project_name:"project_name",customer_id:"customer_id",customer_name:"customer_name",stakeholder_name:"stakeholder_name",stakeholder_contact:"stakeholder_contact",progress_name:"1",create_time:"create_time",customer_level:1,director_name:"director_name"}]}function s(){var e=(0,c.default)({},_);return console.log("project",_),e.stakeholders=[(0,c.default)({},d)],e}function n(){return{project_name:[{required:!0,message:"必填字段"},{min:2,max:50,message:"长度在 2 到 50 个字符"}],customer_name:[{required:!0,message:"必填字段"},{min:2,max:50,message:"长度在 2 到 50 个字符"}],progress_id:[{required:!0,message:"必填字段"}],stakeholders:[]}}Object.defineProperty(t,"__esModule",{value:!0}),t.project=t.stakeholders=t.projectListQuery=void 0;var i=l(369),c=a(i),p=l(141),u=a(p);t.initProjectListQuery=o,t.getTestListData=r,t.initProject=s,t.initRule=n;var m=t.projectListQuery={project_name:"",customer_name:"",industry_type_id:"",progress:"",director_name:"",create_time:null},d=t.stakeholders={name:"test_name",contact:"test_contact",post:"test_post",role_type:"test_role_type"},_=t.project={project_name:"test_project_name",customer_id:"",customer_name:"test_customer_name",capital_type:1,tender_type:1,progress_id:"1",demand_summary:"test_demand_summary",budget:20,history_supplier:"test_history_supplier",competitor:"test_competitor",stakeholders:[],project_remark:"test_project_remark"}},1078:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(1066),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}(a),r=l(929);t.default={props:{value:{default:!1},project:{default:function(){return o.initProject()}}},data:function(){return{rules:o.initRule(),capitalTypes:r.capitalTypes,tenderTypes:r.tenderTypes,roleTypes:r.roleTypes,projectProgressTypes:r.projectProgressTypes,dialogShow:this.value,refForm:null}},watch:{value:function(e,t){this.dialogShow=e},dialogShow:function(e,t){var l=this;this.$emit("input",e),this.$nextTick(function(){l.refForm||(l.refForm=l.$refs.form),l.refForm.resetFields()})},projectId:function(e,t){e&&this.loadProjectDetail()}},mixins:[],methods:{loadProjectDetail:function(){console.log("loadProjectDetail")},closeDialog:function(){this.dialogShow=!1},doSave:function(){var e=this;this.project.id?this.$api.project.updateProjetMan(this.project).then(function(t){e.$emit("on-save")}):this.$api.project.addProject(this.project).then(function(t){e.$emit("on-save")})},doCancel:function(){console.log("doCancel"),this.closeDialog()},addContactMan:function(){console.log("addContactMan")}},created:function(){},mounted:function(){}}},1098:function(e,t,l){t=e.exports=l(867)(),t.push([e.i,".project-edit .tit{line-height:2.5;border-bottom:1px solid #ddd;font-size:14px}.project-edit .el-form-item .el-form-item{margin-bottom:22px}.project-edit .form{width:540px;margin:0 auto}.project-edit .ml110{margin-left:110px}","",{version:3,sources:["D:/桌面/personal/project/web-project/src/views/project/list/edit-modal.vue"],names:[],mappings:"AACA,mBACE,gBAAiB,AACjB,6BAA8B,AAC9B,cAAgB,CACjB,AACD,0CACE,kBAAoB,CACrB,AACD,oBACE,YAAa,AACb,aAAe,CAChB,AACD,qBACE,iBAAmB,CACpB",file:"edit-modal.vue",sourcesContent:["\n.project-edit .tit {\n  line-height: 2.5;\n  border-bottom: 1px solid #ddd;\n  font-size: 14px;\n}\n.project-edit .el-form-item .el-form-item {\n  margin-bottom: 22px;\n}\n.project-edit .form {\n  width: 540px;\n  margin: 0 auto;\n}\n.project-edit .ml110 {\n  margin-left: 110px;\n}\n"],sourceRoot:""}])},1114:function(e,t,l){var a=l(1098);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l(868)("e326d5e8",a,!0)},1134:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{staticClass:"project-edit",attrs:{visible:e.dialogShow,"append-to-body":"","before-close":e.closeDialog,width:"720px"},on:{"update:visible":function(t){e.dialogShow=t}}},[l("div",{attrs:{slot:"title"},slot:"title"},[l("div",{staticClass:"tit"},[e._v("新建项目")])]),e._v(" "),l("el-form",{ref:"form",staticClass:"form",attrs:{model:e.project,rules:e.rules,"label-width":"110px"}},[l("el-form-item",{attrs:{label:"项目名称：",prop:"project_name"}},[l("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.project.project_name,callback:function(t){e.$set(e.project,"project_name",t)},expression:"project.project_name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客户名称：",prop:"customer_name"}},[l("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.project.customer_name,callback:function(t){e.$set(e.project,"customer_name",t)},expression:"project.customer_name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"资金来源："}},[l("el-select",{attrs:{placeholder:"请选择资金来源"},model:{value:e.project.capital_type,callback:function(t){e.$set(e.project,"capital_type",t)},expression:"project.capital_type"}},e._l(e.capitalTypes,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"招标方式："}},[l("el-select",{attrs:{placeholder:"请选择招标方式"},model:{value:e.project.tender_type,callback:function(t){e.$set(e.project,"tender_type",t)},expression:"project.tender_type"}},e._l(e.tenderTypes,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"项目进展：",prop:"progress_id"}},[l("el-select",{attrs:{placeholder:"请选择销售阶段"},model:{value:e.project.progress_id,callback:function(t){e.$set(e.project,"progress_id",t)},expression:"project.progress_id"}},e._l(e.projectProgressTypes,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("div",{staticClass:"tit mb20"},[e._v("采购意向")]),e._v(" "),l("el-form-item",{attrs:{label:"需求概述："}},[l("el-input",{attrs:{placeholder:"请输入需求概述"},model:{value:e.project.demand_summary,callback:function(t){e.$set(e.project,"demand_summary",t)},expression:"project.demand_summary"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"资金预算："}},[l("el-input",{attrs:{placeholder:"请输入资金预算"},model:{value:e.project.budget,callback:function(t){e.$set(e.project,"budget",t)},expression:"project.budget"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"历史供应商："}},[l("el-input",{attrs:{placeholder:"请输入历史供应商"},model:{value:e.project.history_supplier,callback:function(t){e.$set(e.project,"history_supplier",t)},expression:"project.history_supplier"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"竞争产品："}},[l("el-input",{attrs:{placeholder:"请输入竞争产品"},model:{value:e.project.competitor,callback:function(t){e.$set(e.project,"competitor",t)},expression:"project.competitor"}})],1),e._v(" "),l("div",{staticClass:"tit mb20"},[e._v("项目干系人")]),e._v(" "),e._l(e.project.stakeholders,function(t,a){return l("div",{key:a,staticClass:"el-form-item"},[l("div",{staticClass:"el-form-item__label w110"},[e._v("干系人：")]),e._v(" "),l("div",{staticClass:"el-form-item__content ml110"},[l("el-row",[l("el-col",{staticClass:"pr10",attrs:{span:12}},[l("el-form-item",{attrs:{"label-width":"0"}},[l("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"linkMan.name"}})],1)],1),e._v(" "),l("el-col",{staticClass:"pr10",attrs:{span:12}},[l("el-form-item",{attrs:{"label-width":"0"}},[l("el-input",{attrs:{placeholder:"联系方式"},model:{value:t.contact,callback:function(l){e.$set(t,"contact",l)},expression:"linkMan.contact"}})],1)],1),e._v(" "),l("el-col",{staticClass:"pr10",attrs:{span:12}},[l("el-form-item",{attrs:{"label-width":"0"}},[l("el-select",{staticClass:"wp100",attrs:{placeholder:"请选择角色"},model:{value:t.role_type,callback:function(l){e.$set(t,"role_type",l)},expression:"linkMan.role_type"}},e._l(e.roleTypes,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),l("el-col",{staticClass:"pr10",attrs:{span:12}},[l("el-form-item",{attrs:{"label-width":"0"}},[l("el-input",{attrs:{placeholder:"请输入职务"},model:{value:t.post,callback:function(l){e.$set(t,"post",l)},expression:"linkMan.post"}})],1)],1)],1),e._v(" "),l("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.addContactMan}},[e._v("添加干系人")])],1)])}),e._v(" "),l("el-form-item",{attrs:{label:"备注："}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}})],1)],2),e._v(" "),l("div",{staticClass:"tc",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.doSave}},[e._v("确 定")]),e._v(" "),l("el-button",{on:{click:e.doCancel}},[e._v("取 消")])],1)],1)},staticRenderFns:[]}},882:function(e,t,l){l(1114);var a=l(215)(l(1078),l(1134),null,null);e.exports=a.exports},929:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.planType=[{value:1,label:"日计划"},{value:2,label:"周计划"},{value:3,label:"月计划"}],t.planState=[{value:1,label:"草稿"},{value:2,label:"已发布"},{value:3,label:"删除"}],t.supportType=[{value:1,label:"资金"},{value:2,label:"技术支持"},{value:3,label:"协访"},{value:4,label:"其他"}],t.customerLevel=[{value:"",label:"全部客户级别"},{value:1,label:"VIP"},{value:2,label:"重要客户"},{value:3,label:"普通客户"}],t.capitalTypes=[{value:1,label:"自筹"},{value:2,label:"政府拨款"},{value:3,label:"其他"}],t.tenderTypes=[{value:1,label:"公开招标"},{value:2,label:"邀标"},{value:3,label:"竞争性谈判"},{value:4,label:"单一来源采购"},{value:5,label:"其他"}],t.roleTypes=[{value:1,label:"项目经办人"},{value:2,label:"经办负责人"},{value:3,label:"分管领导"},{value:4,label:"关键人"}],t.projectProgressTypes=[{value:"1",label:"初步洽谈"},{value:"2",label:"方案提交"},{value:"3",label:"立项"},{value:"4",label:"招标"},{value:"5",label:"运行调试"},{value:"6",label:"汇款"}],t.serviceStates=[{value:1,label:"运行中"},{value:2,label:"待审核"},{value:3,label:"审核拒绝"}]}});
//# sourceMappingURL=26.4d10960940b2f5900b59.js.map