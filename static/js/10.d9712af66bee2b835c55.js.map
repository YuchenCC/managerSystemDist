{"version":3,"sources":["webpack:///static/js/10.d9712af66bee2b835c55.js","webpack:///./src/views/organization/common/RoleSelect.vue?c876*","webpack:///EditDialog.vue?812a","webpack:///./src/views/organization/department/EditDialog.vue?c8f7*","webpack:///./src/views/organization/department/EditDialog.vue?ba64*","webpack:///./src/views/organization/department/EditDialog.vue?7461*","webpack:///./src/views/organization/common/Tree.vue","webpack:///./src/views/organization/common/RoleSelect.vue","webpack:///./src/views/organization/department/EditDialog.vue?c25f","webpack:///Tree.vue?85a5***","webpack:///./src/views/organization/common/Tree.vue?f550****","webpack:///./src/views/organization/constants.js?0d07***","webpack:///RoleSelect.vue?9e98","webpack:///./src/views/organization/common/RoleSelect.vue?0c2d*","webpack:///./src/views/organization/common/RoleSelect.vue?08f9*"],"names":["webpackJsonp","1064","module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","visible","before-close","beforeClose","append-to-body","modal-append-to-body","title","width","on","update:visible","$event","staticClass","staticStyle","font-size","_v","span","reload","reloadTree","propData","propTree","treeData","callback","treeCallback","finishReload","staffList","disabled","totalLimit","indeterminate","isIndeterminate","change","handleCheckAllChange","model","value","$$v","checkAll","expression","_s","departmentInfo","min","limitLength","max","handleCheckedDepartmentStaffChange","checkedEmployees","_l","staff","key","label","_e","text-align","slot","type","click","closeDialog","staticRenderFns","1071","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","_keys","_keys2","_constants","_RoleSelect","_RoleSelect2","name","props","components","RoleSelect","computed","get","dialogFormVisible","set","rules","operateDepartment","data","assetLimit","assetDialogShow","managerDialogShow","form","cloneObjectKeys","formData","dutyManagers","methods","tmp","map","deleteManager","tag","index","console","log","method","$emit","showManagerSelect","showAssetSelect","closeAssetDialog","length","staff_name","id","closeManagerDialog","arr","forEach","v","push","join","done","watch","1103","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","1119","content","locals","1139","ref","show-message","inline-message","label-width","size","prop","placeholder","$set","readonly","nativeOn","margin-top","limit","869","Component","871","875","931","_extends2","_extends3","_vuex","tree","departmentTree","defaultProps","children","selectDepartment","clickNode","expandKey","nodeLayer","filterText","mapActions","mapGetters","initData","_this","$refs","setCurrentKey","_callback","getDepartmentTree","then","_id","reloadData","_this2","treeClick","node","level","getExpand","handleCheckChange","reset","isLeaf","parent","filterNode","indexOf","_data","mounted","init","val","filter","932","node-key","default-expanded-keys","filter-node-method","show-checkbox","checkbox","node-click","check-change","933","validateDate","rule","result","Number","isNaN","Error","validatePhone","validateNumber","validateLength","toString","initService","customer_id","customer_name","social_credit_code","contact_name","industry_type_id","industry_subtype_id","province_id","city_id","admin_id","admin_phone","admin_password","power_customer_no","water_customer_no","gas_customer_no","comm_customer_no","business_licence_img","start_time","end_time","enabled_services","enabled_industries","validatePassword","l","validateCustomerNo","initRule","required","message","trigger","validator","editEmployees","operateEmployees","undefined","_toConsumableArray2","_toConsumableArray3","ruleCollections","phone","text","email","date","department_name","asset_manager_id","department_code","duty_manager_ids","parent_dept_id","status","job_no","password","birth_date","join_date","department_id","enterprise_id","enterprise_name","enterprise_type","office_phoneFront","office_phoneEnd","remark","duty","sex","wechat_no","942","_Tree","_Tree2","Tree","staffTree","Array","showModal","treeBackData","initTree","dataHandler","concat","modalShow","closeModal","department","getStaffTree","addArr","check","position","splice","computedCheck","checkedCount","943","944"],"mappings":"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","file":"static/js/10.d9712af66bee2b835c55.js","sourcesContent":["webpackJsonp([10,23,54],{\n\n/***/ 1064:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"role_dialog df pb20\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门树\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree,\n      \"propData\": true,\n      \"propTree\": this.treeData\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"select_dialog\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [(_vm.staffList.length) ? _c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": !_vm.totalLimit,\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(_vm._s(_vm.departmentInfo['department_name']))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mt10 mb10\"\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.totalLimit\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.staffList), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1) : _vm._e()], 1)], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"已选人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.limitLength.max\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.checkedEmployees), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1)], 1)], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 1071:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(219);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _constants = __webpack_require__(933);\n\nvar _RoleSelect = __webpack_require__(871);\n\nvar _RoleSelect2 = _interopRequireDefault(_RoleSelect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Dialog',\n  props: ['dialogFormVisible', 'formData'],\n  components: { RoleSelect: _RoleSelect2.default },\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    },\n    rules: function rules() {\n      return _constants.operateDepartment.rules;\n    }\n  },\n  data: function data() {\n    return {\n      assetLimit: 1,\n      assetDialogShow: false,\n      managerDialogShow: false,\n      form: this.cloneObjectKeys(this.formData),\n      dutyManagers: ''\n    };\n  },\n\n  methods: {\n    cloneObjectKeys: function cloneObjectKeys(data) {\n      var tmp = {};\n      (0, _keys2.default)(data).map(function (key) {\n        return tmp[key] = data[key];\n      });\n      return tmp;\n    },\n    deleteManager: function deleteManager(tag, index) {\n      console.log(tag);\n      console.log(this.form);\n    },\n    closeDialog: function closeDialog(method) {\n      this.$emit('closeDialog', this.form, method);\n    },\n    showManagerSelect: function showManagerSelect() {\n      this.managerDialogShow = true;\n    },\n    showAssetSelect: function showAssetSelect() {\n      this.assetDialogShow = true;\n    },\n    closeAssetDialog: function closeAssetDialog(value) {\n      if (value && value.length) {\n        this.form['asset_manager_name'] = value[0].staff_name || '';\n        this.form['asset_manager_id'] = value[0].id || '';\n      }\n      this.assetDialogShow = false;\n    },\n    closeManagerDialog: function closeManagerDialog(value) {\n      if (value && value.length) {\n        var arr = [];\n        var dutyManagers = [];\n        value.forEach(function (v) {\n          var obj = {};\n          obj['duty_manager_id'] = v.id;\n          obj['duty_manager_name'] = v.staff_name;\n          arr.push(obj);\n          dutyManagers.push(obj['duty_manager_name']);\n        });\n        this.form['duty_manager_list'] = arr;\n        this.dutyManagers = dutyManagers.join('、');\n      }\n      this.managerDialogShow = false;\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.$emit('closeDialog', {}, 'close');\n    }\n  },\n  watch: {\n    formData: function formData() {\n      this.form = this.cloneObjectKeys(this.formData);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 1103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/department/EditDialog.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"EditDialog.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1119:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"1cea5426\", content, true);\n\n/***/ }),\n\n/***/ 1139:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"modal-append-to-body\": false,\n      \"before-close\": _vm.beforeClose,\n      \"title\": \"编辑部门\",\n      \"width\": \"500px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"form-text f13 \",\n    attrs: {\n      \"show-message\": true,\n      \"inline-message\": true,\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"108px\",\n      \"size\": \"mini\"\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门名称：\",\n      \"prop\": \"department_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入部门名称\"\n    },\n    model: {\n      value: (_vm.form.department_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_name\", $$v)\n      },\n      expression: \"form.department_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门编码：\",\n      \"prop\": \"department_code\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入部门编码\"\n    },\n    model: {\n      value: (_vm.form.department_code),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_code\", $$v)\n      },\n      expression: \"form.department_code\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"上级部门：\",\n      \"prop\": \"parent_dept_id\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入上级部门\"\n    },\n    model: {\n      value: (_vm.form.parent_dept_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"parent_dept_name\", $$v)\n      },\n      expression: \"form.parent_dept_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门负责人：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择部门负责人\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showManagerSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.dutyManagers),\n      callback: function($$v) {\n        _vm.dutyManagers = $$v\n      },\n      expression: \"dutyManagers\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"11px\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"资产管理人：\",\n      \"prop\": \"asset_manager_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择资产管理人\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showAssetSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.form.asset_manager_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"asset_manager_name\", $$v)\n      },\n      expression: \"form.asset_manager_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"状态：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.status),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"status\", $$v)\n      },\n      expression: \"form.status\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"启用\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"禁用\")])], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('RoleSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.managerDialogShow\n    },\n    on: {\n      \"closeDialog\": _vm.closeManagerDialog\n    }\n  }), _vm._v(\" \"), _c('RoleSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.assetDialogShow,\n      \"limit\": _vm.assetLimit\n    },\n    on: {\n      \"closeDialog\": _vm.closeAssetDialog\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 869:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(931),\n  /* template */\n  __webpack_require__(932),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(944)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(942),\n  /* template */\n  __webpack_require__(1064),\n  /* scopeId */\n  \"data-v-6067c4a3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 875:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1119)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(1071),\n  /* template */\n  __webpack_require__(1139),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 931:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(370);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Tree',\n  computed: {\n    tree: function tree() {\n      if (this.propData) {\n        return this.propTree || [];\n      }\n      return this.departmentTree();\n    }\n  },\n  props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n  data: function data() {\n    return {\n      defaultProps: {\n        children: 'child_list',\n        label: 'department_name'\n      },\n      selectDepartment: '',\n      clickNode: {},\n      expandKey: [],\n      nodeLayer: 0,\n      filterText: ''\n    };\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getDepartmentTree']), (0, _vuex.mapGetters)(['departmentTree']), {\n    initData: function initData() {\n      var _this = this;\n\n      if (this.propData) {\n        if (this.tree[0] && this.tree[0]['department_id']) {\n          var id = this.tree[0]['department_id'];\n          this.$refs.tree.setCurrentKey(id, true);\n\n          this.selectDepartment = this.tree[0];\n          this._callback(id);\n        }\n      } else {\n        this.getDepartmentTree().then(function () {\n          if (_this.tree[0] && _this.tree[0]['department_id']) {\n            var _id = _this.tree[0]['department_id'];\n            _this.$refs.tree.setCurrentKey(_id, true);\n\n            _this.selectDepartment = _this.tree[0];\n            _this._callback(_id);\n          }\n        });\n      }\n    },\n    reloadData: function reloadData() {\n      var _this2 = this;\n\n      if (this.selectDepartment && this.selectDepartment['department_id']) {\n        var id = this.selectDepartment['department_id'];\n        this.getDepartmentTree().then(function () {\n          _this2.$refs.tree.setCurrentKey(id, true);\n        });\n        this._callback(id, this.selectDepartment);\n      } else {\n        this.initData();\n      }\n    },\n    treeClick: function treeClick(obj, node) {\n      if (this.clickNode === node && this.selectDepartment === obj.id) {\n        return;\n      }\n      this.selectDepartment = obj;\n      this.clickNode = node;\n      this.nodeLayer = node.level;\n      this.getExpand(node, true);\n      this._callback(this.selectDepartment['department_id'], obj);\n    },\n    handleCheckChange: function handleCheckChange() {},\n    getExpand: function getExpand(node, reset) {\n      if (reset) {\n        this.expandKey = [];\n      }\n      if (node.isLeaf) {\n        this.getExpand(node.parent);\n      } else {\n        this.expandKey.push(node.key);\n      }\n    },\n    filterNode: function filterNode(value, data) {\n      if (!value) return true;\n      return data['department_name'].indexOf(value) !== -1;\n    },\n    _callback: function _callback(id, obj) {\n      this.$emit('callback', { id: id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj });\n    }\n  }),\n  mounted: function mounted() {\n    this.initData();\n  },\n\n  watch: {\n    reload: function reload() {\n      if (this.reload.reload) {\n        if (this.reload.init) {\n          this.selectDepartment = {};\n        }\n        this.reloadData();\n        this.$emit('finishReload');\n      }\n    },\n    filterText: function filterText(val) {\n      this.$refs.tree.filter(val);\n    },\n    propTree: function propTree() {\n      this.initData();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 932:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 933:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.editEmployees = exports.operateEmployees = exports.operateDepartment = undefined;\n\nvar _toConsumableArray2 = __webpack_require__(216);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nexports.initService = initService;\nexports.initRule = initRule;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ruleCollections = {\n  phone: function phone() {\n    return [{ required: true, message: '手机号必填' }, { validator: validatePhone, trigger: 'blur' }, { validator: validateNumber }];\n  },\n  required: function required(text) {\n    return [{ required: true, message: text, trigger: 'blur' }];\n  },\n  length: function length(min, max) {\n    if (max) {\n      return [{ min: min, max: max, message: '\\u4F4D\\u6570\\u9650\\u5236\\uFF0C\\u8BF7\\u8F93\\u5165' + min + '-' + max + '\\u4F4D' }];\n    }\n    return [{ validator: validateLength, trigger: 'blur' }];\n  },\n  email: function email() {\n    return [{ type: 'email', message: '\\u8BF7\\u586B\\u5199\\u6B63\\u786E\\u90AE\\u7BB1\\u683C\\u5F0F' }];\n  },\n  date: function date() {\n    return [{ required: true, message: '日期必填' }, { validator: validateDate }];\n  }\n};\n\nvar operateDepartment = exports.operateDepartment = {\n  rules: {\n    department_name: ruleCollections.required('部门名称必填')\n  },\n  init: function init() {\n    return {\n      \"asset_manager_id\": \"\",\n      \"department_code\": \"\",\n      \"department_name\": \"\",\n      \"duty_manager_ids\": [],\n      \"parent_dept_id\": \"\",\n      \"status\": 1\n    };\n  }\n};\n\nvar operateEmployees = exports.operateEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    password: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('密码必填')), (0, _toConsumableArray3.default)(ruleCollections.length(6, 10))),\n    email: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('邮箱必填')), (0, _toConsumableArray3.default)(ruleCollections.email())),\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date()\n  },\n  init: function init() {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"password\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    };\n  }\n};\n\nvar editEmployees = exports.editEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    email: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('邮箱必填')), (0, _toConsumableArray3.default)(ruleCollections.email())),\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date()\n  },\n  init: function init() {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    };\n  }\n};\n\nfunction validateDate(rule, value, callback) {\n  var result = Number(value);\n  if (isNaN(result)) {\n    callback(new Error('\\u65E5\\u671F\\u5FC5\\u9009'));\n  } else {\n    callback();\n  }\n}\n\nfunction validatePhone(rule, value, callback) {\n  var length = value.length;\n  if (length !== 11) {\n    callback(new Error('\\u8F93\\u516511\\u4F4D\\u624B\\u673A\\u53F7'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateNumber(rule, value, callback) {\n  var result = Number(value);\n  if (isNaN(result)) {\n    callback(new Error('\\u5FC5\\u987B\\u4E3A\\u7EAF\\u6570\\u5B57'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateLength(rule, value, callback) {\n  if (min) {\n    if (!value) {\n      callback();\n    } else if (value.toString().length !== min) {\n      callback(new Error('\\u9650\\u5236' + min + '\\u4F4D'));\n    }\n  }\n}\n\nfunction initService() {\n  return {\n    customer_id: '',\n    customer_name: 'customer_name',\n    social_credit_code: '123456789123456789',\n    contact_name: 'contact_name',\n    industry_type_id: 'industry_type_id',\n    industry_subtype_id: 'industry_subtype_id',\n    province_id: '110000',\n    city_id: '110100',\n    admin_id: '',\n    admin_phone: '15880152020',\n    admin_password: '123456',\n    power_customer_no: '',\n    water_customer_no: '',\n    gas_customer_no: '',\n    comm_customer_no: '',\n    business_licence_img: '',\n    start_time: '',\n    end_time: '',\n    enabled_services: ['1'],\n    enabled_industries: ['1']\n  };\n};\n\nfunction validatePassword(rule, value, callback) {\n  var l = value.length,\n      max = 8,\n      min = 6;\n  if (l < 6 || l > 8) {\n    callback(new Error('\\u8F93\\u5165' + min + '-' + max + '\\u4F4D\\u5BC6\\u7801'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateCustomerNo(rule, value, callback) {\n  if (!value) {\n    callback();\n  } else if (value.toString().length != 20) {\n    callback(new Error('输入18位编号'));\n  }\n}\n\nfunction initRule() {\n  return {\n    customer_name: [{ required: true, message: '必填字段' }, { min: 2, max: 50, message: '长度在 2 到 50 个字符' }],\n    social_credit_code: [{ required: true, message: '必填字段' }, { min: 18, max: 18, message: '长度为18位', trigger: 'blur' }],\n    contact_name: [{ required: true, message: '必填字段' }, { min: 2, max: 20, message: '长度在 2 到 20 个字符' }],\n    industry_type_id: [{ required: true, message: '必填字段' }],\n    industry_subtype_id: [{ required: true, message: '必填字段' }],\n    province_id: [],\n    city_id: [],\n    admin_phone: [{ required: true, message: '必填字段' }],\n    admin_password: [{ required: true, message: '必填字段' }, { validator: validatePassword, trigger: 'blur' }],\n    power_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    water_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    gas_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    comm_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }]\n  };\n};\n\n/***/ }),\n\n/***/ 942:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(216);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _Tree = __webpack_require__(869);\n\nvar _Tree2 = _interopRequireDefault(_Tree);\n\nvar _vuex = __webpack_require__(370);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Dialog',\n  components: { Tree: _Tree2.default },\n  props: ['dialogFormVisible', 'limit'],\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    },\n    treeData: function treeData() {\n      return this.staffTree();\n    },\n    limitLength: function limitLength() {\n      var obj = { min: 0, max: 9999 };\n      console.log(obj);\n      if (this.limit) {\n        if (this.limit instanceof Array) {\n          obj.min = Number(this.limit[0]) || 0;\n          obj.max = Number(this.limit[1]) || 9999;\n        } else {\n          obj.max = Number(this.limit) || 9999;\n        }\n      }\n      return obj;\n    }\n  },\n  data: function data() {\n    return {\n      totalLimit: 9999,\n      checkAll: false,\n      showModal: false,\n      reloadTree: false,\n      treeBackData: {},\n      departmentInfo: {},\n      staffList: [],\n      checkedEmployees: [],\n      isIndeterminate: true\n    };\n  },\n  mounted: function mounted() {\n    this.initTree();\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getStaffTree']), (0, _vuex.mapGetters)(['staffTree']), {\n    closeDialog: function closeDialog(method) {\n      this.$emit('closeDialog', this.checkedEmployees);\n      if (method !== 'close') {\n        this.reloadTree = true;\n      }\n    },\n    dataHandler: function dataHandler(data) {\n      this.departmentInfo = { department_id: data.department_id || '', department_name: data.department_name || '' };\n      this.staffList = [].concat((0, _toConsumableArray3.default)(data['staff_list'] || []));\n    },\n    modalShow: function modalShow() {\n      this.showModal = true;\n    },\n    closeModal: function closeModal(value) {\n      this.form.department = value;\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.$emit('closeDialog');\n    },\n    finishReload: function finishReload() {\n      this.reloadTree = false;\n    },\n    treeCallback: function treeCallback(obj) {\n      if (obj['_data']) {\n        this.dataHandler(obj['_data']);\n      }\n    },\n    initTree: function initTree() {\n      this.getStaffTree();\n    },\n    handleCheckAllChange: function handleCheckAllChange(value) {\n      var _this = this;\n\n      if (value) {\n        var addArr = [];\n        this.staffList.forEach(function (staff) {\n          var index = 1;\n          if (_this.checkedEmployees.length) {\n            _this.checkedEmployees.forEach(function (check) {\n              if (staff.id === check.id) {\n                index = 0;\n              }\n            });\n          }\n          if (index) {\n            addArr.push(staff);\n          }\n        });\n        this.checkedEmployees = [].concat((0, _toConsumableArray3.default)(this.checkedEmployees), addArr);\n      } else {\n        this.staffList.forEach(function (staff) {\n          var position = null;\n          if (_this.checkedEmployees.length) {\n            _this.checkedEmployees.forEach(function (check, index) {\n              if (staff.id === check.id) {\n                position = index;\n              }\n            });\n          }\n          if (position || position === 0) {\n            _this.checkedEmployees.splice(position, 1);\n          }\n        });\n      }\n      this.isIndeterminate = false;\n    },\n    handleCheckedDepartmentStaffChange: function handleCheckedDepartmentStaffChange(value) {\n      this.computedCheck(value);\n    },\n    computedCheck: function computedCheck(value) {\n      var _this2 = this;\n\n      var data = value || this.checkedEmployees;\n      var checkedCount = 0;\n      if (data.length) {\n        data.forEach(function (v) {\n          if (_this2.staffList.length) {\n            _this2.staffList.forEach(function (staff) {\n              if (staff.id === v.id) {\n                checkedCount += 1;\n              }\n            });\n          }\n        });\n      }\n      this.checkAll = checkedCount === this.staffList.length;\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.staffList.length;\n    }\n  }),\n  watch: {\n    staffList: function staffList() {\n      if (this.staffList.length === 0) {\n        this.checkAll = false;\n        this.isIndeterminate = true;\n      } else {\n        this.computedCheck();\n      }\n    },\n    checkedEmployees: function checkedEmployees() {\n      console.log(this.checkedEmployees);\n      var length = this.checkedEmployees.length;\n      console.log(this.limitLength);\n      var max = this.limitLength.max;\n      this.totalLimit = max - length;\n      console.log(this.totalLimit);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 943:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".role_dialog[data-v-6067c4a3]{justify-content:space-around;height:360px}.of[data-v-6067c4a3]{height:100%;overflow:auto}.select_dialog[data-v-6067c4a3]{display:flex;justify-content:space-between;flex-direction:column}.select_dialog>div[data-v-6067c4a3]{height:150px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/common/RoleSelect.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,6BAA8B,AAC9B,YAAc,CACf,AACD,qBACE,YAAa,AACb,aAAe,CAChB,AACD,gCACE,aAAc,AACd,8BAA+B,AAC/B,qBAAuB,CACxB,AACD,oCACI,YAAc,CACjB\",\"file\":\"RoleSelect.vue\",\"sourcesContent\":[\"\\n.role_dialog[data-v-6067c4a3] {\\n  justify-content: space-around;\\n  height: 360px;\\n}\\n.of[data-v-6067c4a3] {\\n  height: 100%;\\n  overflow: auto;\\n}\\n.select_dialog[data-v-6067c4a3] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n}\\n.select_dialog > div[data-v-6067c4a3] {\\n    height: 150px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 944:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(943);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"36ef5677\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/10.d9712af66bee2b835c55.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"role_dialog df pb20\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门树\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree,\n      \"propData\": true,\n      \"propTree\": this.treeData\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"select_dialog\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [(_vm.staffList.length) ? _c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": !_vm.totalLimit,\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(_vm._s(_vm.departmentInfo['department_name']))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mt10 mb10\"\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.totalLimit\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.staffList), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1) : _vm._e()], 1)], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"已选人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.limitLength.max\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.checkedEmployees), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1)], 1)], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6067c4a3\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 1064\n// module chunks = 3 10 23","<template>\n  <div>\n    <el-dialog :visible.sync=\"visible\" :modal-append-to-body=\"false\" :before-close=\"beforeClose\" title=\"编辑部门\" width=\"500px\">\n      <div class=\"p15\">\n        <el-form :show-message=true :inline-message=true ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"form-text f13 \" label-width=\"108px\" size=\"mini\">\n          <el-row>\n            <el-col :span=\"20\">\n              <el-form-item label=\"部门名称：\" prop=\"department_name\">\n                <el-input\n                  placeholder='请输入部门名称'\n                  v-model='form.department_name'>\n                </el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row class=\"mt5\">\n            <el-col :span=\"20\">\n              <el-form-item label=\"部门编码：\"  prop=\"department_code\">\n                <el-input\n                  placeholder='请输入部门编码'\n                  v-model='form.department_code'>\n                </el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row class=\"mt5\">\n            <el-col :span=\"20\">\n              <el-form-item label=\"上级部门：\" prop=\"parent_dept_id\">\n                <el-input\n                  placeholder='请输入上级部门'\n                  v-model=form.parent_dept_name>\n                </el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row class=\"mt5\">\n            <el-col :span=\"20\">\n              <el-form-item label=\"部门负责人：\">\n                <el-input\n                  placeholder='请选择部门负责人'\n                  @click.native=\"showManagerSelect\"\n                  v-model=\"dutyManagers\"\n                  readonly>\n                </el-input>\n                <!--<el-input-->\n                <!--placeholder='请选择部门负责人'-->\n                <!--v-model='form.dutyManagerNames'>-->\n                <!--</el-input>-->\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row style=\"margin-top: 11px\">\n            <el-col :span=\"20\">\n              <el-form-item label=\"资产管理人：\" prop=\"asset_manager_name\">\n                <el-input\n                  placeholder='请选择资产管理人'\n                  @click.native=\"showAssetSelect\"\n                  v-model=\"form.asset_manager_name\"\n                  readonly>\n                </el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row class=\"mt5\">\n            <el-col :span=\"20\">\n              <el-form-item label=\"状态：\">\n                <el-radio-group v-model=\"form.status\">\n                  <el-radio :label=\"1\">启用</el-radio>\n                  <el-radio :label=\"0\">禁用</el-radio>\n                </el-radio-group>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer mt10\" style=\"text-align: center\">\n        <el-button type=\"primary\" @click=\"closeDialog('save')\">保 存</el-button>\n        <el-button @click=\"closeDialog('close')\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <RoleSelect @closeDialog=\"closeManagerDialog\" :dialogFormVisible=\"managerDialogShow\"></RoleSelect>\n    <RoleSelect @closeDialog=\"closeAssetDialog\" :dialogFormVisible=\"assetDialogShow\" :limit=\"assetLimit\"></RoleSelect>\n  </div>\n</template>\n<script>\n  import { operateDepartment } from '../constants'\n  import RoleSelect from '../common/RoleSelect.vue'\n\n  export default {\n    name: 'Dialog',\n    props: ['dialogFormVisible', 'formData'],\n    components: {RoleSelect},\n    computed: {\n      visible: {\n        get: function () {\n          return this.dialogFormVisible\n        },\n        set: function () {\n        }\n      },\n      rules() {\n        return operateDepartment.rules\n      }\n    },\n    data() {\n      return {\n        assetLimit: 1,\n        assetDialogShow: false,\n        managerDialogShow: false,\n        form: this.cloneObjectKeys(this.formData),\n        dutyManagers: ''\n      }\n    },\n    methods: {\n      cloneObjectKeys(data) {\n        const tmp = {}\n        Object.keys(data).map(key => tmp[key] = data[key])\n        return tmp\n      },\n      deleteManager(tag, index) {\n        console.log(tag)\n        console.log(this.form)\n      },\n      closeDialog(method) {\n        this.$emit('closeDialog', this.form, method)\n      },\n      showManagerSelect() {\n        this.managerDialogShow = true\n      },\n      showAssetSelect() {\n        this.assetDialogShow = true\n      },\n      closeAssetDialog(value) {\n        if (value && value.length) {\n          this.form['asset_manager_name'] = value[0].staff_name || ''\n          this.form['asset_manager_id'] = value[0].id || ''\n        }\n        this.assetDialogShow = false\n      },\n      closeManagerDialog(value) {\n        if (value && value.length) {\n          const arr = []\n          const dutyManagers = []\n          value.forEach(v => {\n            const obj = {}\n            obj['duty_manager_id'] = v.id\n            obj['duty_manager_name'] = v.staff_name\n            arr.push(obj)\n            dutyManagers.push(obj['duty_manager_name'])\n          })\n          this.form['duty_manager_list'] = arr\n          this.dutyManagers = dutyManagers.join('、')\n        }\n        this.managerDialogShow = false\n      },\n      beforeClose(done) {\n        done()\n        this.$emit('closeDialog', {}, 'close')\n      }\n    },\n    watch: {\n      formData() {\n        this.form = this.cloneObjectKeys(this.formData)\n      }\n    }\n  }\n</script>\n<style lang=\"scss\">\n  .dialog_input_custom{\n    >input{\n      height: 28px;\n      font-size: 12px;\n      top: 1px;\n      position: relative;\n    }\n  }\n  .dialog_date_custom{\n    .el-input__prefix{\n      top: -6px;\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// EditDialog.vue?79203736","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/department/EditDialog.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"EditDialog.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-bb761688\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/department/EditDialog.vue\n// module id = 1103\n// module chunks = 3 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-bb761688\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./EditDialog.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1cea5426\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-bb761688\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/department/EditDialog.vue\n// module id = 1119\n// module chunks = 3 10","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"modal-append-to-body\": false,\n      \"before-close\": _vm.beforeClose,\n      \"title\": \"编辑部门\",\n      \"width\": \"500px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"form-text f13 \",\n    attrs: {\n      \"show-message\": true,\n      \"inline-message\": true,\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"108px\",\n      \"size\": \"mini\"\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门名称：\",\n      \"prop\": \"department_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入部门名称\"\n    },\n    model: {\n      value: (_vm.form.department_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_name\", $$v)\n      },\n      expression: \"form.department_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门编码：\",\n      \"prop\": \"department_code\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入部门编码\"\n    },\n    model: {\n      value: (_vm.form.department_code),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_code\", $$v)\n      },\n      expression: \"form.department_code\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"上级部门：\",\n      \"prop\": \"parent_dept_id\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入上级部门\"\n    },\n    model: {\n      value: (_vm.form.parent_dept_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"parent_dept_name\", $$v)\n      },\n      expression: \"form.parent_dept_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"部门负责人：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择部门负责人\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showManagerSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.dutyManagers),\n      callback: function($$v) {\n        _vm.dutyManagers = $$v\n      },\n      expression: \"dutyManagers\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticStyle: {\n      \"margin-top\": \"11px\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"资产管理人：\",\n      \"prop\": \"asset_manager_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择资产管理人\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showAssetSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.form.asset_manager_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"asset_manager_name\", $$v)\n      },\n      expression: \"form.asset_manager_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"状态：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.status),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"status\", $$v)\n      },\n      expression: \"form.status\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"启用\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"禁用\")])], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('RoleSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.managerDialogShow\n    },\n    on: {\n      \"closeDialog\": _vm.closeManagerDialog\n    }\n  }), _vm._v(\" \"), _c('RoleSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.assetDialogShow,\n      \"limit\": _vm.assetLimit\n    },\n    on: {\n      \"closeDialog\": _vm.closeAssetDialog\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb761688\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/department/EditDialog.vue\n// module id = 1139\n// module chunks = 3 10","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tree.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ef36022\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tree.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/common/Tree.vue\n// module id = 869\n// module chunks = 3 4 8 9 10 22 23 54","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6067c4a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleSelect.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleSelect.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6067c4a3\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleSelect.vue\"),\n  /* scopeId */\n  \"data-v-6067c4a3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/common/RoleSelect.vue\n// module id = 871\n// module chunks = 3 10 23","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-bb761688\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditDialog.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb761688\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditDialog.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/department/EditDialog.vue\n// module id = 875\n// module chunks = 3 10","<template>\n  <div>\n    <div class='searchInput' v-if=\"filter\">\n      <el-input\n        placeholder='搜索'\n        v-model='filterText'>\n        <i slot='prefix' class='el-input__icon el-icon-search'></i>\n      </el-input>\n    </div>\n    <el-tree\n      :data='tree'\n      :props='defaultProps'\n      node-key=\"department_id\"\n      @node-click=\"treeClick\"\n      :default-expanded-keys=\"expandKey\"\n      ref=\"tree\"\n      :filter-node-method=\"filterNode\"\n      :show-checkbox=\"checkbox || false\"\n      @check-change=\"handleCheckChange\"\n    >\n    </el-tree>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from 'vuex'\n\n  export default {\n    name: 'Tree',\n    computed: {\n      tree() {\n        if (this.propData) {\n          return this.propTree || []\n        }\n        return this.departmentTree()\n      }\n    },\n    props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n    data() {\n      return {\n        defaultProps: {\n          children: 'child_list',\n          label: 'department_name'\n        },\n        selectDepartment: '',\n        clickNode: {},\n        expandKey: [],\n        nodeLayer: 0,\n        filterText: ''\n      }\n    },\n    methods: {\n      ...mapActions(['getDepartmentTree']),\n      ...mapGetters(['departmentTree']),\n      initData() {\n        if (this.propData) {\n          if (this.tree[0] && this.tree[0]['department_id']) {\n            let id = this.tree[0]['department_id']\n            this.$refs.tree.setCurrentKey(id, true)\n            // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n            this.selectDepartment = this.tree[0]\n            this._callback(id)\n          }\n        } else {\n          this.getDepartmentTree().then(() => {\n            if (this.tree[0] && this.tree[0]['department_id']) {\n              let id = this.tree[0]['department_id']\n              this.$refs.tree.setCurrentKey(id, true)\n              // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n              this.selectDepartment = this.tree[0]\n              this._callback(id)\n            }\n          })\n        }\n      },\n      reloadData() {\n        if (this.selectDepartment && this.selectDepartment['department_id']) {\n          let id = this.selectDepartment['department_id']\n          this.getDepartmentTree().then(() => {\n            this.$refs.tree.setCurrentKey(id, true)\n          })\n          this._callback(id, this.selectDepartment)\n        } else {\n          this.initData()\n        }\n      },\n      treeClick(obj, node) {\n        if (this.clickNode === node && this.selectDepartment === obj.id) {\n          return\n        }\n        this.selectDepartment = obj\n        this.clickNode = node\n        this.nodeLayer = node.level\n        this.getExpand(node, true)\n        this._callback(this.selectDepartment['department_id'], obj)\n      },\n      handleCheckChange() {\n\n      },\n      getExpand(node, reset) {\n        if (reset) {\n          this.expandKey = []\n        }\n        if (node.isLeaf) {\n          this.getExpand(node.parent)\n        } else {\n          this.expandKey.push(node.key)\n        }\n      },\n      filterNode(value, data) {\n        if (!value) return true\n        return data['department_name'].indexOf(value) !== -1\n      },\n      _callback(id, obj) {\n        this.$emit('callback', {id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj})\n      }\n    },\n    mounted() {\n      this.initData()\n    },\n    watch: {\n      reload() {\n        if(this.reload.reload) {\n          if (this.reload.init) {\n            this.selectDepartment = {}\n          }\n          this.reloadData()\n          this.$emit('finishReload')\n        }\n      },\n      filterText(val) {\n        this.$refs.tree.filter(val)\n      },\n      propTree() {\n        this.initData()\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// Tree.vue?702ed200","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ef36022\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/common/Tree.vue\n// module id = 932\n// module chunks = 3 4 8 9 10 22 23 54","const ruleCollections = {\n  phone: () => {\n  \t return [\n      { required: true, message: '手机号必填'},\n      { validator: validatePhone, trigger: 'blur'},\n      { validator: validateNumber}\n    ]\n\t\t},\n  required: (text) => {\n   \treturn  [\n      { required: true, message: text, trigger: 'blur'},\n    ]\n\t\t},\n\t\tlength: (min, max) => {\n  \tif (max) {\n     return [\n       { min, max, message: `位数限制，请输入${min}-${max}位` }\n     ]\n\t\t\t}\n  \treturn [\n     { validator: validateLength, trigger: 'blur'},\n\t\t\t]\n\t\t},\n  email: () => {\n    return [\n      { type: 'email', message: `请填写正确邮箱格式` }\n    ]\n\t\t},\n\t\tdate: () => {\n    return [\n      { required: true, message: '日期必填'},\n      { validator: validateDate},\n    ]\n\t\t}\n}\n\nexport const operateDepartment = {\n\t rules: {\n    department_name: ruleCollections.required('部门名称必填'),\n\t\t},\n\t\tinit: () => {\n    return {\n      \"asset_manager_id\": \"\",\n      \"department_code\": \"\",\n      \"department_name\": \"\",\n      \"duty_manager_ids\": [\n      ],\n      \"parent_dept_id\": \"\",\n      \"status\": 1\n    }\n  }\n}\n\nexport const operateEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n\t\t\t\tpassword: [...ruleCollections.required('密码必填'), ...ruleCollections.length(6, 10)],\n\t\t\t\temail: [...ruleCollections.required('邮箱必填'), ...ruleCollections.email()],\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date(),\n  },\n  init: () => {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"password\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    }\n  }\n}\n\nexport const editEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    email: [...ruleCollections.required('邮箱必填'), ...ruleCollections.email()],\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date(),\n  },\n  init: () => {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    }\n  }\n}\n\nfunction validateDate(rule,value,callback) {\n  const result = Number(value)\n  if (isNaN(result)) {\n    callback(new Error(`日期必选`))\n  } else{\n    callback()\n  }\n}\n\nfunction validatePhone(rule,value,callback) {\n\t const length = value.length\n\t\tif (length !== 11) {\n    callback(new Error(`输入11位手机号`))\n\t\t} else{\n\t \t callback()\n\t\t}\n}\n\nfunction validateNumber(rule,value,callback) {\n  const result = Number(value)\n  if (isNaN(result)) {\n    callback(new Error(`必须为纯数字`))\n  } else{\n    callback()\n  }\n}\n\nfunction validateLength(rule,value,callback) {\n\t\tif (min) {\n    if (!value) {\n      callback()\n    } else if ( value.toString().length !== min ){\n      callback(new Error(`限制${min}位`))\n    }\n\t\t}\n}\n\nexport function initService() {\n\treturn {\n\t\tcustomer_id: '',\n\t\tcustomer_name: 'customer_name',\n\t\tsocial_credit_code: '123456789123456789',\n\t\tcontact_name: 'contact_name',\n\t\tindustry_type_id: 'industry_type_id',\n\t\tindustry_subtype_id: 'industry_subtype_id',\n\t\tprovince_id: '110000',\n\t\tcity_id: '110100',\n\t\tadmin_id: '',\n\t\tadmin_phone: '15880152020',\n\t\tadmin_password: '123456',\n\t\tpower_customer_no: '',\n\t\twater_customer_no: '',\n\t\tgas_customer_no: '',\n\t\tcomm_customer_no: '',\n\t\tbusiness_licence_img: '',\n\t\tstart_time: '',\n\t\tend_time: '',\n\t\tenabled_services: ['1'],\n\t\tenabled_industries: ['1']\n\t}\n};\n// 表单验证\n// 密码验证6-8\nfunction validatePassword(rule,value,callback) {\n\tlet l = value.length,max = 8, min = 6\n\tif (l<6 || l>8) {\n\t\tcallback(new Error(`输入${min}-${max}位密码`))\n\t}else{\n\t\tcallback()\n\t}\n}\n// 各编号20位\nfunction validateCustomerNo (rule,value,callback) {\n\tif (!value) {\n\t\tcallback()\n\t}else if(value.toString().length != 20){\n\t\tcallback(new Error('输入18位编号'))\n\t}\n}\n\nexport function initRule() {\n\treturn {\n\t\tcustomer_name: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 2, max: 50, message: '长度在 2 到 50 个字符' }\n\t\t],\n\t\tsocial_credit_code: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 18, max: 18, message: '长度为18位' , trigger: 'blur'}\n\t\t],\n\t\tcontact_name: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 2, max: 20, message: '长度在 2 到 20 个字符' }\n\t\t],\n\t\tindustry_type_id: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tindustry_subtype_id: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tprovince_id: [\n\t\t\t// {required: true, message: '必填字段'}\n\t\t],\n\t\tcity_id: [\n\t\t\t// {required: true, message: '必填字段'}\n\t\t],\n\t\tadmin_phone: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tadmin_password: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{validator: validatePassword,trigger: 'blur'}\n\t\t],\n\t\tpower_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\twater_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\tgas_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\tcomm_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t}\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/organization/constants.js","<template>\r\n  <div>\r\n    <el-dialog :visible.sync=\"visible\" :before-close=\"beforeClose\" :append-to-body=\"false\" :modal-append-to-body=\"false\"\r\n               title=\"选择人员\" width=\"800px\">\r\n      <div class=\"role_dialog df pb20\">\r\n        <div>\r\n          <div class=\"mb5\" style=\"font-size: 16px\">部门树</div>\r\n          <div class=\"p15 w300 bl bt br bb of\">\r\n            <el-row>\r\n              <el-col :span=\"20\">\r\n                <Tree @callback=\"treeCallback\" :reload=\"reloadTree\" @finishReload=\"finishReload\" :propData=true :propTree=\"this.treeData\" ></Tree>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n        <div class=\"select_dialog\">\r\n          <div>\r\n            <div class=\"mb5\" style=\"font-size: 16px\">部门人员</div>\r\n            <div class=\"p15 w300 bl bt br bb of\">\r\n              <el-row>\r\n                <el-col :span=\"20\" v-if=\"staffList.length\" class=\"ml10 mr10 mt10 mb10\">\r\n                  <el-checkbox :disabled=\"!totalLimit\" :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">{{departmentInfo['department_name']}}</el-checkbox>\r\n                  <div class=\"mt10 mb10\"></div>\r\n                  <el-checkbox-group class=\"ml10\" :min='limitLength.min' :max=\"totalLimit\" v-model=\"checkedEmployees\" @change=\"handleCheckedDepartmentStaffChange\">\r\n                    <el-checkbox v-for=\"staff in staffList\" :label=\"staff\" :key=\"staff['id']\">{{staff['staff_name']}}</el-checkbox>\r\n                  </el-checkbox-group>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"mb5\" style=\"font-size: 16px\">已选人员</div>\r\n            <div class=\"p15 w300 bl bt br bb of\">\r\n              <el-row>\r\n                <el-col :span=\"20\" class=\"ml10 mr10 mt10 mb10\">\r\n                  <el-checkbox-group :min='limitLength.min' :max=\"limitLength.max\" class=\"ml10\" v-model=\"checkedEmployees\" @change=\"handleCheckedDepartmentStaffChange\">\r\n                    <el-checkbox v-for=\"staff in checkedEmployees\" :label=\"staff\" :key=\"staff['id']\">{{staff['staff_name']}}</el-checkbox>\r\n                  </el-checkbox-group>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer mt10\" style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"closeDialog('save')\">保 存</el-button>\r\n        <el-button @click=\"closeDialog('close')\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import Tree from './Tree.vue'\r\n  import { mapActions, mapGetters } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Dialog',\r\n    components: {Tree},\r\n    props: ['dialogFormVisible', 'limit'],\r\n    computed: {\r\n      visible: {\r\n        get: function () {\r\n          return this.dialogFormVisible\r\n        },\r\n        set: function () {\r\n        }\r\n      },\r\n      treeData() {\r\n        return this.staffTree()\r\n      },\r\n      limitLength() {\r\n        const obj = {min: 0, max: 9999}\r\n        console.log(obj)\r\n        if(this.limit) {\r\n          if(this.limit instanceof Array) {\r\n            obj.min = Number(this.limit[0]) || 0\r\n            obj.max = Number(this.limit[1]) || 9999\r\n          } else {\r\n            obj.max = Number(this.limit) || 9999\r\n          }\r\n        }\r\n        return obj\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        totalLimit: 9999,\r\n        checkAll: false,\r\n        showModal: false,\r\n        reloadTree: false,\r\n        treeBackData: {},\r\n        departmentInfo: {},\r\n        staffList: [],\r\n        checkedEmployees: [],\r\n        isIndeterminate: true\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initTree()\r\n    },\r\n    methods: {\r\n      ...mapActions(['getStaffTree']),\r\n      ...mapGetters(['staffTree']),\r\n      closeDialog(method) {\r\n        this.$emit('closeDialog', this.checkedEmployees)\r\n        if (method !== 'close') {\r\n          this.reloadTree = true\r\n        }\r\n      },\r\n      dataHandler(data) {\r\n        this.departmentInfo = {department_id: data.department_id || '', department_name: data.department_name || ''}\r\n        this.staffList = [...data['staff_list'] || []]\r\n      },\r\n      modalShow() {\r\n        this.showModal = true\r\n      },\r\n      closeModal(value) {\r\n        this.form.department = value\r\n      },\r\n      beforeClose(done) {\r\n        done()\r\n        this.$emit('closeDialog')\r\n      },\r\n      finishReload() {\r\n        this.reloadTree = false\r\n      },\r\n      treeCallback(obj) {\r\n        if (obj['_data']) {\r\n          this.dataHandler(obj['_data'])\r\n        }\r\n      },\r\n      initTree() {\r\n        this.getStaffTree()\r\n      },\r\n      handleCheckAllChange(value) {\r\n        if (value) {\r\n          const addArr = []\r\n          this.staffList.forEach(staff => {\r\n            let index = 1\r\n            if(this.checkedEmployees.length) {\r\n              this.checkedEmployees.forEach(check => {\r\n                if (staff.id === check.id) {\r\n                  index = 0\r\n                }\r\n              })\r\n            }\r\n            if (index) {\r\n              addArr.push(staff)\r\n            }\r\n          })\r\n          this.checkedEmployees = [...this.checkedEmployees, ...addArr]\r\n        } else {\r\n          this.staffList.forEach(staff => {\r\n            let position = null\r\n            if(this.checkedEmployees.length) {\r\n              this.checkedEmployees.forEach((check, index) => {\r\n                if (staff.id === check.id) {\r\n                  position = index\r\n                }\r\n              })\r\n            }\r\n            if (position || position === 0) {\r\n              this.checkedEmployees.splice(position, 1)\r\n            }\r\n          })\r\n        }\r\n        this.isIndeterminate = false;\r\n      },\r\n      handleCheckedDepartmentStaffChange(value) {\r\n        this.computedCheck(value)\r\n      },\r\n      computedCheck(value) {\r\n        let data = value || this.checkedEmployees\r\n        let checkedCount = 0\r\n        if (data.length) {\r\n          data.forEach(v => {\r\n            if (this.staffList.length) {\r\n              this.staffList.forEach(staff => {\r\n                if (staff.id === v.id) {\r\n                  checkedCount += 1\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n        this.checkAll = checkedCount === this.staffList.length;\r\n        this.isIndeterminate = checkedCount > 0 && checkedCount < this.staffList.length;\r\n      }\r\n    },\r\n    watch: {\r\n      staffList: function() {\r\n        if (this.staffList.length === 0) {\r\n          this.checkAll = false\r\n          this.isIndeterminate = true\r\n        } else {\r\n          this.computedCheck()\r\n        }\r\n      },\r\n      checkedEmployees: function() {\r\n        console.log(this.checkedEmployees)\r\n        const length = this.checkedEmployees.length\r\n        console.log(this.limitLength)\r\n        const max = this.limitLength.max\r\n        this.totalLimit = max - length\r\n        console.log(this.totalLimit)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .role_dialog{\r\n    justify-content: space-around;\r\n    height: 360px;\r\n  }\r\n  .of{\r\n    height: 100%;\r\n    overflow: auto;\r\n  }\r\n  .select_dialog{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-direction: column;\r\n    >div{\r\n      height: 150px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// RoleSelect.vue?e1d57e6e","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".role_dialog[data-v-6067c4a3]{justify-content:space-around;height:360px}.of[data-v-6067c4a3]{height:100%;overflow:auto}.select_dialog[data-v-6067c4a3]{display:flex;justify-content:space-between;flex-direction:column}.select_dialog>div[data-v-6067c4a3]{height:150px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/common/RoleSelect.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,6BAA8B,AAC9B,YAAc,CACf,AACD,qBACE,YAAa,AACb,aAAe,CAChB,AACD,gCACE,aAAc,AACd,8BAA+B,AAC/B,qBAAuB,CACxB,AACD,oCACI,YAAc,CACjB\",\"file\":\"RoleSelect.vue\",\"sourcesContent\":[\"\\n.role_dialog[data-v-6067c4a3] {\\n  justify-content: space-around;\\n  height: 360px;\\n}\\n.of[data-v-6067c4a3] {\\n  height: 100%;\\n  overflow: auto;\\n}\\n.select_dialog[data-v-6067c4a3] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n}\\n.select_dialog > div[data-v-6067c4a3] {\\n    height: 150px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6067c4a3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 943\n// module chunks = 3 10 23","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-6067c4a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RoleSelect.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"36ef5677\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6067c4a3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 944\n// module chunks = 3 10 23"],"sourceRoot":""}