{"version":3,"sources":["webpack:///static/js/8.eb77d68a40a20e87ff24.js","webpack:///EditDialog.vue?64b7*","webpack:///./src/mixins/editFormMixin.js?faa8","webpack:///./src/views/organization/employees/EditDialog.vue?264d*","webpack:///./src/views/organization/employees/EditDialog.vue?dcc7*","webpack:///./src/views/organization/employees/EditDialog.vue?2b6e*","webpack:///./src/views/organization/common/Tree.vue?8d8b**","webpack:///./src/views/organization/employees/DepartmentSelect.vue?09dc*","webpack:///./src/views/organization/employees/EditDialog.vue?d7d0","webpack:///Tree.vue?85a5*","webpack:///./src/views/organization/common/Tree.vue?f550**","webpack:///./src/views/organization/constants.js?0d07*","webpack:///DepartmentSelect.vue?8fa8","webpack:///./src/views/organization/employees/DepartmentSelect.vue?090f*","webpack:///./src/views/organization/employees/DepartmentSelect.vue?9b91*","webpack:///./src/views/organization/employees/DepartmentSelect.vue?e023*"],"names":["webpackJsonp","1074","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_keys","_keys2","_extends2","_extends3","_DepartmentSelect","_DepartmentSelect2","_constants","_vuex","_editFormMixin","_editFormMixin2","name","components","DepartmentSelect","props","mixins","rules","editEmployees","computed","visible","get","this","dialogFormVisible","set","data","departmentDialogShow","roleDict","formData","methods","mapActions","formHandler","_this","newParams","office_phone","role_ids","role_names","form","map","key","join","closeDialog","method","_this2","$refs","end","error","undefined","$emit","close","reload","validateForm","then","putEmployees","catch","err","showDepartmentSelect","closeDepartmentDialog","beforeClose","done","watch","formDataId","_this3","initForm","getEmployeesInfo","res","$message","message","showClose","duration","1088","_promise","_promise2","formServer","cloneObjectKeys","mounted","resolve","reject","validate","valid","resetFields","tmp","keys","length","forEach","phoneFilter","split","office_phoneFront","office_phoneEnd","1104","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","1120","content","locals","1140","render","_vm","_h","$createElement","_c","_self","attrs","before-close","modal-append-to-body","title","width","on","update:visible","$event","staticClass","ref","validate-on-rule-change","show-message","inline-message","model","label-width","size","span","label","prop","placeholder","callback","$$v","$set","expression","_v","readonly","nativeOn","click","_l","index","type","justify","id","value-format","rows","staticStyle","text-align","slot","staticRenderFns","869","Component","870","878","931","tree","propData","propTree","departmentTree","defaultProps","children","selectDepartment","clickNode","expandKey","nodeLayer","filterText","mapGetters","initData","setCurrentKey","_callback","getDepartmentTree","_id","reloadData","treeClick","node","level","getExpand","handleCheckChange","reset","isLeaf","parent","filterNode","indexOf","_data","init","val","filter","932","_e","node-key","default-expanded-keys","filter-node-method","show-checkbox","checkbox","node-click","check-change","933","validateDate","rule","result","Number","isNaN","Error","validatePhone","validateNumber","validateLength","min","toString","initService","customer_id","customer_name","social_credit_code","contact_name","industry_type_id","industry_subtype_id","province_id","city_id","admin_id","admin_phone","admin_password","power_customer_no","water_customer_no","gas_customer_no","comm_customer_no","business_licence_img","start_time","end_time","enabled_services","enabled_industries","validatePassword","l","validateCustomerNo","initRule","required","max","trigger","validator","operateEmployees","operateDepartment","_toConsumableArray2","_toConsumableArray3","ruleCollections","phone","text","email","date","department_name","asset_manager_id","department_code","duty_manager_ids","parent_dept_id","status","staff_name","job_no","password","birth_date","join_date","department_id","enterprise_id","enterprise_name","enterprise_type","remark","duty","sex","wechat_no","936","_Tree","_Tree2","Tree","showModal","reloadTree","treeBackData","modalShow","closeModal","department","finishReload","treeCallback","console","log","937","938","941","append-to-body"],"mappings":"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","file":"static/js/8.eb77d68a40a20e87ff24.js","sourcesContent":["webpackJsonp([8,22,54],{\n\n/***/ 1074:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(219);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _DepartmentSelect = __webpack_require__(870);\n\nvar _DepartmentSelect2 = _interopRequireDefault(_DepartmentSelect);\n\nvar _constants = __webpack_require__(933);\n\nvar _vuex = __webpack_require__(370);\n\nvar _editFormMixin = __webpack_require__(1088);\n\nvar _editFormMixin2 = _interopRequireDefault(_editFormMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Dialog',\n  components: {\n    DepartmentSelect: _DepartmentSelect2.default\n  },\n  props: ['dialogFormVisible', 'formDataId'],\n  mixins: [(0, _editFormMixin2.default)({ rules: _constants.editEmployees.rules })],\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    }\n  },\n  data: function data() {\n    return {\n      departmentDialogShow: false,\n      roleDict: ['部门主管', '维护人员', '组长', '巡检人员'],\n      formData: {}\n    };\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getEmployeesInfo', 'putEmployees']), {\n    formHandler: function formHandler() {\n      var _this = this;\n\n      var newParams = { office_phone: [], role_ids: [], role_names: [] };\n      (0, _keys2.default)(this.form).map(function (key) {\n        if (key === 'office_phoneFront') {\n          return newParams['office_phone'][0] = _this.form[key];\n        }\n        if (key === 'office_phoneEnd') {\n          return newParams['office_phone'][1] = _this.form[key];\n        }\n        if (key === 'duty') {\n          return;\n        }\n        newParams[key] = _this.form[key];\n      });\n      newParams['office_phone'] = newParams['office_phone'].join('-');\n      return newParams;\n    },\n    closeDialog: function closeDialog(method) {\n      var _this2 = this;\n\n      if (this.$refs.end.error) {\n        this.$refs.end.error = undefined;\n      }\n      if (method === 'close') {\n        this.$emit('closeDialog', { close: true, reload: false });\n      } else {\n        this.validateForm().then(function () {\n          var newParams = _this2.formHandler();\n          _this2.putEmployees(newParams).then(function () {\n            _this2.$emit('closeDialog', { close: true, reload: true });\n          }).catch(function (err) {\n            return _this2.$refs.end.error = err;\n          });\n        });\n      }\n    },\n    showDepartmentSelect: function showDepartmentSelect() {\n      this.departmentDialogShow = true;\n    },\n    closeDepartmentDialog: function closeDepartmentDialog(value) {\n      if (value && value['department_id']) {\n        this.form['department_id'] = value['department_id'];\n        this.form['department_name'] = value['department_name'];\n      }\n      this.departmentDialogShow = false;\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.$emit('closeDialog');\n    }\n  }),\n  watch: {\n    formDataId: function formDataId() {\n      var _this3 = this;\n\n      this.initForm();\n      this.getEmployeesInfo(this.formDataId).then(function (res) {\n        _this3.formData = res;\n      }).catch(function () {\n        _this3.$message.error({\n          message: '服务器错误，请重试',\n          showClose: true,\n          duration: 4000\n        });\n        _this3.$emit('closeDialog', { close: true, reload: false });\n      });\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 1088:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(219);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(108);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (formServer) {\n  return {\n    data: function data() {\n      return {\n        form: this.cloneObjectKeys(this.formData)\n      };\n    },\n\n    watch: {\n      formData: function formData() {\n        this.form = this.cloneObjectKeys(this.formData);\n      }\n    },\n    mounted: function mounted() {\n      this.initForm();\n    },\n\n    computed: {\n      rules: function rules() {\n        return formServer.rules;\n      }\n    },\n    methods: {\n      validateForm: function validateForm() {\n        var _this = this;\n\n        return new _promise2.default(function (resolve, reject) {\n          _this.$refs['form'].validate(function (valid) {\n            if (valid) {\n              resolve();\n            } else {\n              return reject();\n            }\n          });\n        });\n      },\n      initForm: function initForm() {\n        if (this.$refs['form']) {\n          this.$refs['form'].resetFields();\n        }\n      },\n      cloneObjectKeys: function cloneObjectKeys(data) {\n        var tmp = {};\n        if (data) {\n          var keys = (0, _keys2.default)(data);\n          if (keys.length) {\n            keys.forEach(function (key) {\n              if (key === 'office_phone' && data[key]) {\n                var phoneFilter = data[key].split('-');\n                tmp.office_phoneFront = phoneFilter[0];\n                tmp.office_phoneEnd = phoneFilter[1];\n                return;\n              }\n              tmp[key] = data[key];\n            });\n          }\n        }\n        return tmp;\n      }\n    }\n  };\n};\n\n/***/ }),\n\n/***/ 1104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".dialog_input_custom .el-input__suffix{top:-5px}.dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/employees/EditDialog.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,QAAU,CACX,AACD,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"EditDialog.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom .el-input__suffix {\\n  top: -5px;\\n}\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"2ff207e0\", content, true);\n\n/***/ }),\n\n/***/ 1140:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"modal-append-to-body\": false,\n      \"title\": \"编辑人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"form-text f13 \",\n    attrs: {\n      \"validate-on-rule-change\": false,\n      \"show-message\": true,\n      \"inline-message\": true,\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"108px\",\n      \"size\": \"mini\"\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名：\",\n      \"prop\": \"staff_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入姓名\"\n    },\n    model: {\n      value: (_vm.form.staff_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"staff_name\", $$v)\n      },\n      expression: \"form.staff_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"工号：\",\n      \"prop\": \"job_no\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入工号/账号\"\n    },\n    model: {\n      value: (_vm.form.job_no),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"job_no\", $$v)\n      },\n      expression: \"form.job_no\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号：\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入手机号\"\n    },\n    model: {\n      value: (_vm.form.phone),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"phone\", $$v)\n      },\n      expression: \"form.phone\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"性别：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.sex),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"sex\", $$v)\n      },\n      expression: \"form.sex\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"女\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"所属部门：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择部门\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showDepartmentSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.form.department_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_name\", $$v)\n      },\n      expression: \"form.department_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"职务：\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"选择职务\"\n    },\n    model: {\n      value: (_vm.form.duty),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"duty\", $$v)\n      },\n      expression: \"form.duty\"\n    }\n  }, _vm._l((_vm.roleDict), function(label, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": label,\n        \"value\": index\n      }\n    })\n  }))], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱：\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择所在组织部门\",\n      \"type\": \"email\"\n    },\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"email\", $$v)\n      },\n      expression: \"form.email\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"space-between\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 19\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择所在组织部门\",\n      \"type\": \"email\"\n    },\n    model: {\n      value: (_vm.form.office_phoneFront),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"office_phoneFront\", $$v)\n      },\n      expression: \"form.office_phoneFront\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_c('el-input', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"placeholder\": \"分机\"\n    },\n    model: {\n      value: (_vm.form.office_phoneEnd),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"office_phoneEnd\", $$v)\n      },\n      expression: \"form.office_phoneEnd\"\n    }\n  })], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"微信号：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入微信号\"\n    },\n    model: {\n      value: (_vm.form.wechat_no),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"wechat_no\", $$v)\n      },\n      expression: \"form.wechat_no\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"出生日期：\",\n      \"prop\": \"birth_date\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"dialog_date_custom\",\n    attrs: {\n      \"id\": \"born\",\n      \"type\": \"date\",\n      \"placeholder\": \"请选择出生年月日\",\n      \"value-format\": \"timestamp\"\n    },\n    model: {\n      value: (_vm.form.birth_date),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"birth_date\", $$v)\n      },\n      expression: \"form.birth_date\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"入职时间：\",\n      \"prop\": \"join_date\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"dialog_date_custom\",\n    attrs: {\n      \"id\": \"date\",\n      \"type\": \"date\",\n      \"placeholder\": \"请选择毕业时间\",\n      \"value-format\": \"timestamp\"\n    },\n    model: {\n      value: (_vm.form.join_date),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"join_date\", $$v)\n      },\n      expression: \"form.join_date\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户状态：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.status),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"status\", $$v)\n      },\n      expression: \"form.status\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"启用\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"禁用\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form-item', {\n    ref: \"end\",\n    attrs: {\n      \"label\": \"备注：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 4\n    },\n    model: {\n      value: (_vm.form.remark),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"remark\", $$v)\n      },\n      expression: \"form.remark\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('DepartmentSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.departmentDialogShow\n    },\n    on: {\n      \"closeDialog\": _vm.closeDepartmentDialog\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 869:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(931),\n  /* template */\n  __webpack_require__(932),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 870:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(938)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(936),\n  /* template */\n  __webpack_require__(941),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 878:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1120)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(1074),\n  /* template */\n  __webpack_require__(1140),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 931:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(370);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Tree',\n  computed: {\n    tree: function tree() {\n      if (this.propData) {\n        return this.propTree || [];\n      }\n      return this.departmentTree();\n    }\n  },\n  props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n  data: function data() {\n    return {\n      defaultProps: {\n        children: 'child_list',\n        label: 'department_name'\n      },\n      selectDepartment: '',\n      clickNode: {},\n      expandKey: [],\n      nodeLayer: 0,\n      filterText: ''\n    };\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getDepartmentTree']), (0, _vuex.mapGetters)(['departmentTree']), {\n    initData: function initData() {\n      var _this = this;\n\n      if (this.propData) {\n        if (this.tree[0] && this.tree[0]['department_id']) {\n          var id = this.tree[0]['department_id'];\n          this.$refs.tree.setCurrentKey(id, true);\n\n          this.selectDepartment = this.tree[0];\n          this._callback(id);\n        }\n      } else {\n        this.getDepartmentTree().then(function () {\n          if (_this.tree[0] && _this.tree[0]['department_id']) {\n            var _id = _this.tree[0]['department_id'];\n            _this.$refs.tree.setCurrentKey(_id, true);\n\n            _this.selectDepartment = _this.tree[0];\n            _this._callback(_id);\n          }\n        });\n      }\n    },\n    reloadData: function reloadData() {\n      var _this2 = this;\n\n      if (this.selectDepartment && this.selectDepartment['department_id']) {\n        var id = this.selectDepartment['department_id'];\n        this.getDepartmentTree().then(function () {\n          _this2.$refs.tree.setCurrentKey(id, true);\n        });\n        this._callback(id, this.selectDepartment);\n      } else {\n        this.initData();\n      }\n    },\n    treeClick: function treeClick(obj, node) {\n      if (this.clickNode === node && this.selectDepartment === obj.id) {\n        return;\n      }\n      this.selectDepartment = obj;\n      this.clickNode = node;\n      this.nodeLayer = node.level;\n      this.getExpand(node, true);\n      this._callback(this.selectDepartment['department_id'], obj);\n    },\n    handleCheckChange: function handleCheckChange() {},\n    getExpand: function getExpand(node, reset) {\n      if (reset) {\n        this.expandKey = [];\n      }\n      if (node.isLeaf) {\n        this.getExpand(node.parent);\n      } else {\n        this.expandKey.push(node.key);\n      }\n    },\n    filterNode: function filterNode(value, data) {\n      if (!value) return true;\n      return data['department_name'].indexOf(value) !== -1;\n    },\n    _callback: function _callback(id, obj) {\n      this.$emit('callback', { id: id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj });\n    }\n  }),\n  mounted: function mounted() {\n    this.initData();\n  },\n\n  watch: {\n    reload: function reload() {\n      if (this.reload.reload) {\n        if (this.reload.init) {\n          this.selectDepartment = {};\n        }\n        this.reloadData();\n        this.$emit('finishReload');\n      }\n    },\n    filterText: function filterText(val) {\n      this.$refs.tree.filter(val);\n    },\n    propTree: function propTree() {\n      this.initData();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 932:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 933:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.editEmployees = exports.operateEmployees = exports.operateDepartment = undefined;\n\nvar _toConsumableArray2 = __webpack_require__(216);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nexports.initService = initService;\nexports.initRule = initRule;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ruleCollections = {\n  phone: function phone() {\n    return [{ required: true, message: '手机号必填' }, { validator: validatePhone, trigger: 'blur' }, { validator: validateNumber }];\n  },\n  required: function required(text) {\n    return [{ required: true, message: text, trigger: 'blur' }];\n  },\n  length: function length(min, max) {\n    if (max) {\n      return [{ min: min, max: max, message: '\\u4F4D\\u6570\\u9650\\u5236\\uFF0C\\u8BF7\\u8F93\\u5165' + min + '-' + max + '\\u4F4D' }];\n    }\n    return [{ validator: validateLength, trigger: 'blur' }];\n  },\n  email: function email() {\n    return [{ type: 'email', message: '\\u8BF7\\u586B\\u5199\\u6B63\\u786E\\u90AE\\u7BB1\\u683C\\u5F0F' }];\n  },\n  date: function date() {\n    return [{ required: true, message: '日期必填' }, { validator: validateDate }];\n  }\n};\n\nvar operateDepartment = exports.operateDepartment = {\n  rules: {\n    department_name: ruleCollections.required('部门名称必填')\n  },\n  init: function init() {\n    return {\n      \"asset_manager_id\": \"\",\n      \"department_code\": \"\",\n      \"department_name\": \"\",\n      \"duty_manager_ids\": [],\n      \"parent_dept_id\": \"\",\n      \"status\": 1\n    };\n  }\n};\n\nvar operateEmployees = exports.operateEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    password: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('密码必填')), (0, _toConsumableArray3.default)(ruleCollections.length(6, 10))),\n    email: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('邮箱必填')), (0, _toConsumableArray3.default)(ruleCollections.email())),\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date()\n  },\n  init: function init() {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"password\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    };\n  }\n};\n\nvar editEmployees = exports.editEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    email: [].concat((0, _toConsumableArray3.default)(ruleCollections.required('邮箱必填')), (0, _toConsumableArray3.default)(ruleCollections.email())),\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date()\n  },\n  init: function init() {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    };\n  }\n};\n\nfunction validateDate(rule, value, callback) {\n  var result = Number(value);\n  if (isNaN(result)) {\n    callback(new Error('\\u65E5\\u671F\\u5FC5\\u9009'));\n  } else {\n    callback();\n  }\n}\n\nfunction validatePhone(rule, value, callback) {\n  var length = value.length;\n  if (length !== 11) {\n    callback(new Error('\\u8F93\\u516511\\u4F4D\\u624B\\u673A\\u53F7'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateNumber(rule, value, callback) {\n  var result = Number(value);\n  if (isNaN(result)) {\n    callback(new Error('\\u5FC5\\u987B\\u4E3A\\u7EAF\\u6570\\u5B57'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateLength(rule, value, callback) {\n  if (min) {\n    if (!value) {\n      callback();\n    } else if (value.toString().length !== min) {\n      callback(new Error('\\u9650\\u5236' + min + '\\u4F4D'));\n    }\n  }\n}\n\nfunction initService() {\n  return {\n    customer_id: '',\n    customer_name: 'customer_name',\n    social_credit_code: '123456789123456789',\n    contact_name: 'contact_name',\n    industry_type_id: 'industry_type_id',\n    industry_subtype_id: 'industry_subtype_id',\n    province_id: '110000',\n    city_id: '110100',\n    admin_id: '',\n    admin_phone: '15880152020',\n    admin_password: '123456',\n    power_customer_no: '',\n    water_customer_no: '',\n    gas_customer_no: '',\n    comm_customer_no: '',\n    business_licence_img: '',\n    start_time: '',\n    end_time: '',\n    enabled_services: ['1'],\n    enabled_industries: ['1']\n  };\n};\n\nfunction validatePassword(rule, value, callback) {\n  var l = value.length,\n      max = 8,\n      min = 6;\n  if (l < 6 || l > 8) {\n    callback(new Error('\\u8F93\\u5165' + min + '-' + max + '\\u4F4D\\u5BC6\\u7801'));\n  } else {\n    callback();\n  }\n}\n\nfunction validateCustomerNo(rule, value, callback) {\n  if (!value) {\n    callback();\n  } else if (value.toString().length != 20) {\n    callback(new Error('输入18位编号'));\n  }\n}\n\nfunction initRule() {\n  return {\n    customer_name: [{ required: true, message: '必填字段' }, { min: 2, max: 50, message: '长度在 2 到 50 个字符' }],\n    social_credit_code: [{ required: true, message: '必填字段' }, { min: 18, max: 18, message: '长度为18位', trigger: 'blur' }],\n    contact_name: [{ required: true, message: '必填字段' }, { min: 2, max: 20, message: '长度在 2 到 20 个字符' }],\n    industry_type_id: [{ required: true, message: '必填字段' }],\n    industry_subtype_id: [{ required: true, message: '必填字段' }],\n    province_id: [],\n    city_id: [],\n    admin_phone: [{ required: true, message: '必填字段' }],\n    admin_password: [{ required: true, message: '必填字段' }, { validator: validatePassword, trigger: 'blur' }],\n    power_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    water_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    gas_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }],\n    comm_customer_no: [{ validator: validateCustomerNo, trigger: 'blur' }]\n  };\n};\n\n/***/ }),\n\n/***/ 936:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tree = __webpack_require__(869);\n\nvar _Tree2 = _interopRequireDefault(_Tree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Dialog',\n  components: { Tree: _Tree2.default },\n  props: ['dialogFormVisible'],\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    }\n  },\n  data: function data() {\n    return {\n      showModal: false,\n      reloadTree: false,\n      treeBackData: {}\n    };\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    closeDialog: function closeDialog(method) {\n      this.$emit('closeDialog', this.treeBackData);\n      if (method !== 'close') {\n        this.reloadTree = true;\n      }\n    },\n    modalShow: function modalShow() {\n      this.showModal = true;\n    },\n    closeModal: function closeModal(value) {\n      this.form.department = value;\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.$emit('closeDialog');\n    },\n    finishReload: function finishReload() {\n      this.reloadTree = false;\n    },\n    treeCallback: function treeCallback(obj) {\n      console.log('treeCallback');\n      console.log(obj);\n      if (obj.selectDepartment) {\n        this.treeBackData = obj.selectDepartment;\n      }\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 937:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/employees/DepartmentSelect.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"DepartmentSelect.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 938:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(937);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"d5be57c0\", content, true);\n\n/***/ }),\n\n/***/ 941:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择部门\",\n      \"width\": \"500px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.eb77d68a40a20e87ff24.js","<template>\r\n  <div>\r\n    <el-dialog :visible.sync=\"visible\" :before-close=\"beforeClose\" :modal-append-to-body=\"false\" title=\"编辑人员\" width=\"800px\">\r\n      <div class=\"p15\">\r\n        <el-form :validate-on-rule-change=false :show-message=true :inline-message=true ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"form-text f13 \" label-width=\"108px\" size=\"mini\">\r\n          <el-row>\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"姓名：\" prop=\"staff_name\">\r\n                <el-input\r\n                  placeholder='请输入姓名'\r\n                  v-model='form.staff_name'>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"工号：\" prop=\"job_no\">\r\n                <el-input\r\n                  placeholder='请输入工号/账号'\r\n                  v-model='form.job_no'>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"手机号：\" prop=\"phone\">\r\n                <el-input\r\n                  placeholder='请输入手机号'\r\n                  v-model='form.phone'>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"性别：\">\r\n                <el-radio-group v-model=\"form.sex\">\r\n                  <el-radio :label=\"1\">男</el-radio>\r\n                  <el-radio :label=\"0\">女</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"所属部门：\">\r\n                <el-input\r\n                  placeholder='请选择部门'\r\n                  @click.native=\"showDepartmentSelect\"\r\n                  v-model=\"form.department_name\"\r\n                  readonly>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\" class=\"dialog_input_custom\">\r\n              <el-form-item label=\"职务：\">\r\n                <el-select v-model=\"form.duty\" placeholder=\"选择职务\">\r\n                  <el-option v-for=\"(label, index) in roleDict\" :label='label' :value='index' :key=\"index\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"邮箱：\" prop=\"email\">\r\n                <el-input\r\n                  placeholder='请选择所在组织部门'\r\n                  v-model='form.email'\r\n                  type=\"email\" >\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\" >\r\n            <el-col :span=\"16\" >\r\n              <el-row type=\"flex\" justify=\"space-between\">\r\n                <el-col :span=\"19\">\r\n                  <el-form-item label=\"办公电话：\">\r\n                    <el-input\r\n                      placeholder='请选择所在组织部门'\r\n                      v-model='form.office_phoneFront'\r\n                      type=\"email\" >\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                  <el-input\r\n                    placeholder='分机'\r\n                    v-model='form.office_phoneEnd'\r\n                    class='dialog_input_custom' >\r\n                  </el-input>\r\n                </el-col>\r\n              </el-row>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"微信号：\">\r\n                <el-input\r\n                  placeholder='请输入微信号'\r\n                  v-model='form.wechat_no'>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\" class=\"dialog_input_custom\">\r\n              <el-form-item label=\"出生日期：\" prop=\"birth_date\">\r\n                <el-date-picker id='born' class='dialog_date_custom' type=\"date\" placeholder=\"请选择出生年月日\" v-model=\"form.birth_date\" value-format=\"timestamp\"></el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\" class=\"dialog_input_custom\">\r\n              <el-form-item label=\"入职时间：\" prop=\"join_date\">\r\n                <el-date-picker id='date' class='dialog_date_custom' type=\"date\" placeholder=\"请选择毕业时间\" v-model=\"form.join_date\" value-format=\"timestamp\"></el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row class=\"mt5\">\r\n            <el-col :span=\"16\">\r\n              <el-form-item label=\"用户状态：\">\r\n                <el-radio-group v-model=\"form.status\">\r\n                  <el-radio :label=\"1\">启用</el-radio>\r\n                  <el-radio :label=\"0\">禁用</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"备注：\" ref=\"end\">\r\n                <el-input\r\n                  type=\"textarea\"\r\n                  :rows=\"4\"\r\n                  v-model=\"form.remark\"\r\n                >\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer mt10\" style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"closeDialog('save')\">保 存</el-button>\r\n        <el-button @click=\"closeDialog('close')\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <DepartmentSelect @closeDialog=\"closeDepartmentDialog\" :dialogFormVisible=\"departmentDialogShow\"></DepartmentSelect>\r\n  </div>\r\n</template>\r\n<script>\r\n  import DepartmentSelect from './DepartmentSelect'\r\n  import { editEmployees } from '../constants'\r\n  import { mapActions } from 'vuex'\r\n  import formMixin from '@/mixins/editFormMixin'\r\n\r\n  export default {\r\n    name: 'Dialog',\r\n    components: {\r\n      DepartmentSelect\r\n    },\r\n    props: ['dialogFormVisible', 'formDataId'],\r\n    mixins: [formMixin({rules: editEmployees.rules})],\r\n    computed: {\r\n      visible: {\r\n        get: function () {\r\n          return this.dialogFormVisible\r\n        },\r\n        set: function () {\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        departmentDialogShow: false,\r\n        roleDict: ['部门主管', '维护人员', '组长', '巡检人员'],\r\n        formData: {}\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['getEmployeesInfo', 'putEmployees']),\r\n      formHandler() {\r\n        const newParams = {office_phone: [], role_ids: [], role_names: []}\r\n        Object.keys(this.form).map((key) => {\r\n          if(key === 'office_phoneFront') {\r\n            return newParams['office_phone'][0] = this.form[key]\r\n          }\r\n          if(key === 'office_phoneEnd') {\r\n            return newParams['office_phone'][1] = this.form[key]\r\n          }\r\n          if(key === 'duty') {\r\n            // newParams['role_ids'].push(this.form[key])\r\n            // newParams['role_names'].push(this.roleDict[this.form[key]])\r\n            return\r\n          }\r\n          newParams[key] = this.form[key]\r\n        })\r\n        newParams['office_phone'] = newParams['office_phone'].join('-')\r\n        return newParams\r\n      },\r\n      closeDialog(method) {\r\n        if (this.$refs.end.error) {\r\n          this.$refs.end.error = undefined\r\n        }\r\n        if (method === 'close') {\r\n          this.$emit('closeDialog', {close: true, reload: false})\r\n        } else {\r\n          this.validateForm().then(() => {\r\n            const newParams = this.formHandler()\r\n            this.putEmployees(newParams).then(() => {\r\n              this.$emit('closeDialog', {close: true, reload: true})\r\n            }).catch((err) => {\r\n              return this.$refs.end.error = err\r\n            })\r\n          })\r\n        }\r\n      },\r\n      showDepartmentSelect() {\r\n        this.departmentDialogShow = true\r\n      },\r\n      closeDepartmentDialog(value) {\r\n        if (value && value['department_id']) {\r\n          this.form['department_id'] = value['department_id']\r\n          this.form['department_name'] = value['department_name']\r\n        }\r\n        this.departmentDialogShow = false\r\n      },\r\n      beforeClose(done) {\r\n        done()\r\n        this.$emit('closeDialog')\r\n      }\r\n    },\r\n    watch: {\r\n      formDataId() {\r\n        this.initForm()\r\n        this.getEmployeesInfo(this.formDataId).then((res) => {\r\n          this.formData = res\r\n        }).catch(() => {\r\n          this.$message.error({\r\n            message: '服务器错误，请重试',\r\n            showClose: true,\r\n            duration: 4000\r\n          })\r\n          this.$emit('closeDialog', {close: true, reload: false})\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .dialog_input_custom{\r\n    .el-input__suffix {\r\n      top: -5px;\r\n    }\r\n    >input{\r\n      height: 28px;\r\n      font-size: 12px;\r\n      top: 1px;\r\n      position: relative;\r\n    }\r\n  }\r\n  .dialog_date_custom{\r\n    .el-input__prefix{\r\n      top: -6px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// EditDialog.vue?2f29df91","export default (formServer) => {\r\n  return {\r\n    data() {\r\n      return {\r\n        form: this.cloneObjectKeys(this.formData)\r\n      }\r\n    },\r\n    watch: {\r\n      formData() {\r\n        this.form = this.cloneObjectKeys(this.formData)\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initForm()\r\n    },\r\n    computed: {\r\n      rules() {\r\n        return formServer.rules\r\n      }\r\n    },\r\n    methods: {\r\n      validateForm() {\r\n        return new Promise((resolve, reject) => {\r\n          this.$refs['form'].validate((valid) => {\r\n            if (valid) {\r\n              resolve()\r\n            } else {\r\n              return reject()\r\n            }\r\n          })\r\n        })\r\n      },\r\n      initForm() {\r\n        if (this.$refs['form']) {\r\n          this.$refs['form'].resetFields()\r\n        }\r\n      },\r\n      cloneObjectKeys(data) {\r\n        const tmp = {}\r\n        if (data) {\r\n          const keys = Object.keys(data)\r\n          if (keys.length) {\r\n            keys.forEach(key => {\r\n              if (key === 'office_phone' && data[key]) {\r\n                const phoneFilter = data[key].split('-')\r\n                tmp.office_phoneFront = phoneFilter[0]\r\n                tmp.office_phoneEnd = phoneFilter[1]\r\n                return\r\n              }\r\n              tmp[key] = data[key]\r\n            })\r\n          }\r\n        }\r\n        return tmp\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/editFormMixin.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".dialog_input_custom .el-input__suffix{top:-5px}.dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/employees/EditDialog.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,QAAU,CACX,AACD,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"EditDialog.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom .el-input__suffix {\\n  top: -5px;\\n}\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-f1a4f7c2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/employees/EditDialog.vue\n// module id = 1104\n// module chunks = 4 8","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-f1a4f7c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./EditDialog.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2ff207e0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-f1a4f7c2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/employees/EditDialog.vue\n// module id = 1120\n// module chunks = 4 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"modal-append-to-body\": false,\n      \"title\": \"编辑人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"form-text f13 \",\n    attrs: {\n      \"validate-on-rule-change\": false,\n      \"show-message\": true,\n      \"inline-message\": true,\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"108px\",\n      \"size\": \"mini\"\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名：\",\n      \"prop\": \"staff_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入姓名\"\n    },\n    model: {\n      value: (_vm.form.staff_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"staff_name\", $$v)\n      },\n      expression: \"form.staff_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"工号：\",\n      \"prop\": \"job_no\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入工号/账号\"\n    },\n    model: {\n      value: (_vm.form.job_no),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"job_no\", $$v)\n      },\n      expression: \"form.job_no\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号：\",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入手机号\"\n    },\n    model: {\n      value: (_vm.form.phone),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"phone\", $$v)\n      },\n      expression: \"form.phone\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"性别：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.sex),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"sex\", $$v)\n      },\n      expression: \"form.sex\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"女\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"所属部门：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择部门\",\n      \"readonly\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showDepartmentSelect($event)\n      }\n    },\n    model: {\n      value: (_vm.form.department_name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"department_name\", $$v)\n      },\n      expression: \"form.department_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"职务：\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"选择职务\"\n    },\n    model: {\n      value: (_vm.form.duty),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"duty\", $$v)\n      },\n      expression: \"form.duty\"\n    }\n  }, _vm._l((_vm.roleDict), function(label, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": label,\n        \"value\": index\n      }\n    })\n  }))], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱：\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择所在组织部门\",\n      \"type\": \"email\"\n    },\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"email\", $$v)\n      },\n      expression: \"form.email\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"type\": \"flex\",\n      \"justify\": \"space-between\"\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 19\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请选择所在组织部门\",\n      \"type\": \"email\"\n    },\n    model: {\n      value: (_vm.form.office_phoneFront),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"office_phoneFront\", $$v)\n      },\n      expression: \"form.office_phoneFront\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_c('el-input', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"placeholder\": \"分机\"\n    },\n    model: {\n      value: (_vm.form.office_phoneEnd),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"office_phoneEnd\", $$v)\n      },\n      expression: \"form.office_phoneEnd\"\n    }\n  })], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"微信号：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入微信号\"\n    },\n    model: {\n      value: (_vm.form.wechat_no),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"wechat_no\", $$v)\n      },\n      expression: \"form.wechat_no\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"出生日期：\",\n      \"prop\": \"birth_date\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"dialog_date_custom\",\n    attrs: {\n      \"id\": \"born\",\n      \"type\": \"date\",\n      \"placeholder\": \"请选择出生年月日\",\n      \"value-format\": \"timestamp\"\n    },\n    model: {\n      value: (_vm.form.birth_date),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"birth_date\", $$v)\n      },\n      expression: \"form.birth_date\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    staticClass: \"dialog_input_custom\",\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"入职时间：\",\n      \"prop\": \"join_date\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"dialog_date_custom\",\n    attrs: {\n      \"id\": \"date\",\n      \"type\": \"date\",\n      \"placeholder\": \"请选择毕业时间\",\n      \"value-format\": \"timestamp\"\n    },\n    model: {\n      value: (_vm.form.join_date),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"join_date\", $$v)\n      },\n      expression: \"form.join_date\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"mt5\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户状态：\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.status),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"status\", $$v)\n      },\n      expression: \"form.status\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"启用\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"禁用\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form-item', {\n    ref: \"end\",\n    attrs: {\n      \"label\": \"备注：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 4\n    },\n    model: {\n      value: (_vm.form.remark),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"remark\", $$v)\n      },\n      expression: \"form.remark\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)]), _vm._v(\" \"), _c('DepartmentSelect', {\n    attrs: {\n      \"dialogFormVisible\": _vm.departmentDialogShow\n    },\n    on: {\n      \"closeDialog\": _vm.closeDepartmentDialog\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f1a4f7c2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/employees/EditDialog.vue\n// module id = 1140\n// module chunks = 4 8","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tree.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ef36022\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tree.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/common/Tree.vue\n// module id = 869\n// module chunks = 3 4 8 9 10 22 23 54","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-d594cd4a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DepartmentSelect.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DepartmentSelect.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d594cd4a\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DepartmentSelect.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/employees/DepartmentSelect.vue\n// module id = 870\n// module chunks = 4 8 9 22","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-f1a4f7c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditDialog.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f1a4f7c2\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditDialog.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/employees/EditDialog.vue\n// module id = 878\n// module chunks = 4 8","<template>\n  <div>\n    <div class='searchInput' v-if=\"filter\">\n      <el-input\n        placeholder='搜索'\n        v-model='filterText'>\n        <i slot='prefix' class='el-input__icon el-icon-search'></i>\n      </el-input>\n    </div>\n    <el-tree\n      :data='tree'\n      :props='defaultProps'\n      node-key=\"department_id\"\n      @node-click=\"treeClick\"\n      :default-expanded-keys=\"expandKey\"\n      ref=\"tree\"\n      :filter-node-method=\"filterNode\"\n      :show-checkbox=\"checkbox || false\"\n      @check-change=\"handleCheckChange\"\n    >\n    </el-tree>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from 'vuex'\n\n  export default {\n    name: 'Tree',\n    computed: {\n      tree() {\n        if (this.propData) {\n          return this.propTree || []\n        }\n        return this.departmentTree()\n      }\n    },\n    props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n    data() {\n      return {\n        defaultProps: {\n          children: 'child_list',\n          label: 'department_name'\n        },\n        selectDepartment: '',\n        clickNode: {},\n        expandKey: [],\n        nodeLayer: 0,\n        filterText: ''\n      }\n    },\n    methods: {\n      ...mapActions(['getDepartmentTree']),\n      ...mapGetters(['departmentTree']),\n      initData() {\n        if (this.propData) {\n          if (this.tree[0] && this.tree[0]['department_id']) {\n            let id = this.tree[0]['department_id']\n            this.$refs.tree.setCurrentKey(id, true)\n            // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n            this.selectDepartment = this.tree[0]\n            this._callback(id)\n          }\n        } else {\n          this.getDepartmentTree().then(() => {\n            if (this.tree[0] && this.tree[0]['department_id']) {\n              let id = this.tree[0]['department_id']\n              this.$refs.tree.setCurrentKey(id, true)\n              // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n              this.selectDepartment = this.tree[0]\n              this._callback(id)\n            }\n          })\n        }\n      },\n      reloadData() {\n        if (this.selectDepartment && this.selectDepartment['department_id']) {\n          let id = this.selectDepartment['department_id']\n          this.getDepartmentTree().then(() => {\n            this.$refs.tree.setCurrentKey(id, true)\n          })\n          this._callback(id, this.selectDepartment)\n        } else {\n          this.initData()\n        }\n      },\n      treeClick(obj, node) {\n        if (this.clickNode === node && this.selectDepartment === obj.id) {\n          return\n        }\n        this.selectDepartment = obj\n        this.clickNode = node\n        this.nodeLayer = node.level\n        this.getExpand(node, true)\n        this._callback(this.selectDepartment['department_id'], obj)\n      },\n      handleCheckChange() {\n\n      },\n      getExpand(node, reset) {\n        if (reset) {\n          this.expandKey = []\n        }\n        if (node.isLeaf) {\n          this.getExpand(node.parent)\n        } else {\n          this.expandKey.push(node.key)\n        }\n      },\n      filterNode(value, data) {\n        if (!value) return true\n        return data['department_name'].indexOf(value) !== -1\n      },\n      _callback(id, obj) {\n        this.$emit('callback', {id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj})\n      }\n    },\n    mounted() {\n      this.initData()\n    },\n    watch: {\n      reload() {\n        if(this.reload.reload) {\n          if (this.reload.init) {\n            this.selectDepartment = {}\n          }\n          this.reloadData()\n          this.$emit('finishReload')\n        }\n      },\n      filterText(val) {\n        this.$refs.tree.filter(val)\n      },\n      propTree() {\n        this.initData()\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// Tree.vue?702ed200","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ef36022\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/common/Tree.vue\n// module id = 932\n// module chunks = 3 4 8 9 10 22 23 54","const ruleCollections = {\n  phone: () => {\n  \t return [\n      { required: true, message: '手机号必填'},\n      { validator: validatePhone, trigger: 'blur'},\n      { validator: validateNumber}\n    ]\n\t\t},\n  required: (text) => {\n   \treturn  [\n      { required: true, message: text, trigger: 'blur'},\n    ]\n\t\t},\n\t\tlength: (min, max) => {\n  \tif (max) {\n     return [\n       { min, max, message: `位数限制，请输入${min}-${max}位` }\n     ]\n\t\t\t}\n  \treturn [\n     { validator: validateLength, trigger: 'blur'},\n\t\t\t]\n\t\t},\n  email: () => {\n    return [\n      { type: 'email', message: `请填写正确邮箱格式` }\n    ]\n\t\t},\n\t\tdate: () => {\n    return [\n      { required: true, message: '日期必填'},\n      { validator: validateDate},\n    ]\n\t\t}\n}\n\nexport const operateDepartment = {\n\t rules: {\n    department_name: ruleCollections.required('部门名称必填'),\n\t\t},\n\t\tinit: () => {\n    return {\n      \"asset_manager_id\": \"\",\n      \"department_code\": \"\",\n      \"department_name\": \"\",\n      \"duty_manager_ids\": [\n      ],\n      \"parent_dept_id\": \"\",\n      \"status\": 1\n    }\n  }\n}\n\nexport const operateEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n\t\t\t\tpassword: [...ruleCollections.required('密码必填'), ...ruleCollections.length(6, 10)],\n\t\t\t\temail: [...ruleCollections.required('邮箱必填'), ...ruleCollections.email()],\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date(),\n  },\n  init: () => {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"password\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    }\n  }\n}\n\nexport const editEmployees = {\n  rules: {\n    staff_name: ruleCollections.required('姓名必填'),\n    job_no: ruleCollections.length(2, 10),\n    phone: ruleCollections.phone(),\n    email: [...ruleCollections.required('邮箱必填'), ...ruleCollections.email()],\n    birth_date: ruleCollections.date(),\n    join_date: ruleCollections.date(),\n  },\n  init: () => {\n    return {\n      \"birth_date\": \"\",\n      \"department_id\": \"\",\n      \"department_name\": \"\",\n      \"email\": \"\",\n      \"enterprise_id\": \"\",\n      \"enterprise_name\": \"\",\n      \"enterprise_type\": \"\",\n      \"job_no\": \"\",\n      \"join_date\": \"\",\n      \"office_phoneFront\": \"\",\n      \"office_phoneEnd\": \"\",\n      \"phone\": \"\",\n      \"remark\": \"\",\n      \"duty\": '',\n      \"sex\": 1,\n      \"staff_name\": \"\",\n      \"status\": 1,\n      \"wechat_no\": \"\"\n    }\n  }\n}\n\nfunction validateDate(rule,value,callback) {\n  const result = Number(value)\n  if (isNaN(result)) {\n    callback(new Error(`日期必选`))\n  } else{\n    callback()\n  }\n}\n\nfunction validatePhone(rule,value,callback) {\n\t const length = value.length\n\t\tif (length !== 11) {\n    callback(new Error(`输入11位手机号`))\n\t\t} else{\n\t \t callback()\n\t\t}\n}\n\nfunction validateNumber(rule,value,callback) {\n  const result = Number(value)\n  if (isNaN(result)) {\n    callback(new Error(`必须为纯数字`))\n  } else{\n    callback()\n  }\n}\n\nfunction validateLength(rule,value,callback) {\n\t\tif (min) {\n    if (!value) {\n      callback()\n    } else if ( value.toString().length !== min ){\n      callback(new Error(`限制${min}位`))\n    }\n\t\t}\n}\n\nexport function initService() {\n\treturn {\n\t\tcustomer_id: '',\n\t\tcustomer_name: 'customer_name',\n\t\tsocial_credit_code: '123456789123456789',\n\t\tcontact_name: 'contact_name',\n\t\tindustry_type_id: 'industry_type_id',\n\t\tindustry_subtype_id: 'industry_subtype_id',\n\t\tprovince_id: '110000',\n\t\tcity_id: '110100',\n\t\tadmin_id: '',\n\t\tadmin_phone: '15880152020',\n\t\tadmin_password: '123456',\n\t\tpower_customer_no: '',\n\t\twater_customer_no: '',\n\t\tgas_customer_no: '',\n\t\tcomm_customer_no: '',\n\t\tbusiness_licence_img: '',\n\t\tstart_time: '',\n\t\tend_time: '',\n\t\tenabled_services: ['1'],\n\t\tenabled_industries: ['1']\n\t}\n};\n// 表单验证\n// 密码验证6-8\nfunction validatePassword(rule,value,callback) {\n\tlet l = value.length,max = 8, min = 6\n\tif (l<6 || l>8) {\n\t\tcallback(new Error(`输入${min}-${max}位密码`))\n\t}else{\n\t\tcallback()\n\t}\n}\n// 各编号20位\nfunction validateCustomerNo (rule,value,callback) {\n\tif (!value) {\n\t\tcallback()\n\t}else if(value.toString().length != 20){\n\t\tcallback(new Error('输入18位编号'))\n\t}\n}\n\nexport function initRule() {\n\treturn {\n\t\tcustomer_name: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 2, max: 50, message: '长度在 2 到 50 个字符' }\n\t\t],\n\t\tsocial_credit_code: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 18, max: 18, message: '长度为18位' , trigger: 'blur'}\n\t\t],\n\t\tcontact_name: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{ min: 2, max: 20, message: '长度在 2 到 20 个字符' }\n\t\t],\n\t\tindustry_type_id: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tindustry_subtype_id: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tprovince_id: [\n\t\t\t// {required: true, message: '必填字段'}\n\t\t],\n\t\tcity_id: [\n\t\t\t// {required: true, message: '必填字段'}\n\t\t],\n\t\tadmin_phone: [\n\t\t\t{required: true, message: '必填字段'}\n\t\t],\n\t\tadmin_password: [\n\t\t\t{required: true, message: '必填字段'},\n\t\t\t{validator: validatePassword,trigger: 'blur'}\n\t\t],\n\t\tpower_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\twater_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\tgas_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t\tcomm_customer_no: [\n\t\t\t{validator: validateCustomerNo,trigger: 'blur'}\n\t\t],\n\t}\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/organization/constants.js","<template>\r\n  <div>\r\n    <el-dialog :visible.sync=\"visible\" :before-close=\"beforeClose\" :append-to-body=\"false\" :modal-append-to-body=\"false\"\r\n               title=\"选择部门\" width=\"500px\">\r\n      <div class=\"p15\">\r\n        <el-row>\r\n          <el-col :span=\"20\">\r\n            <Tree @callback=\"treeCallback\" :reload=\"reloadTree\" @finishReload=\"finishReload\" ></Tree>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer mt10\" style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"closeDialog('save')\">保 存</el-button>\r\n        <el-button @click=\"closeDialog('close')\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import Tree from '../common/Tree.vue'\r\n\r\n  export default {\r\n    name: 'Dialog',\r\n    components: {Tree},\r\n    props: ['dialogFormVisible'],\r\n    computed: {\r\n      visible: {\r\n        get: function () {\r\n          return this.dialogFormVisible\r\n        },\r\n        set: function () {\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showModal: false,\r\n        reloadTree: false,\r\n        treeBackData: {}\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      closeDialog(method) {\r\n        this.$emit('closeDialog', this.treeBackData)\r\n        if (method !== 'close') {\r\n          this.reloadTree = true\r\n        }\r\n      },\r\n      modalShow() {\r\n        this.showModal = true\r\n      },\r\n      closeModal(value) {\r\n        this.form.department = value\r\n      },\r\n      beforeClose(done) {\r\n        done()\r\n        this.$emit('closeDialog')\r\n      },\r\n      finishReload() {\r\n        this.reloadTree = false\r\n      },\r\n      treeCallback(obj) {\r\n        console.log('treeCallback')\r\n        console.log(obj)\r\n        if (obj.selectDepartment) {\r\n          this.treeBackData = obj.selectDepartment\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .dialog_input_custom {\r\n    > input {\r\n      height: 28px;\r\n      font-size: 12px;\r\n      top: 1px;\r\n      position: relative;\r\n    }\r\n  }\r\n\r\n  .dialog_date_custom {\r\n    .el-input__prefix {\r\n      top: -6px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// DepartmentSelect.vue?02f96ed7","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".dialog_input_custom>input{height:28px;font-size:12px;top:1px;position:relative}.dialog_date_custom .el-input__prefix{top:-6px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/employees/DepartmentSelect.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,YAAa,AACb,eAAgB,AAChB,QAAS,AACT,iBAAmB,CACpB,AACD,sCACE,QAAU,CACX\",\"file\":\"DepartmentSelect.vue\",\"sourcesContent\":[\"\\n.dialog_input_custom > input {\\n  height: 28px;\\n  font-size: 12px;\\n  top: 1px;\\n  position: relative;\\n}\\n.dialog_date_custom .el-input__prefix {\\n  top: -6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-d594cd4a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/employees/DepartmentSelect.vue\n// module id = 937\n// module chunks = 4 8 9 22","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-d594cd4a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./DepartmentSelect.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"d5be57c0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-d594cd4a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/employees/DepartmentSelect.vue\n// module id = 938\n// module chunks = 4 8 9 22","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择部门\",\n      \"width\": \"500px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"p15\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-d594cd4a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/employees/DepartmentSelect.vue\n// module id = 941\n// module chunks = 4 8 9 22"],"sourceRoot":""}