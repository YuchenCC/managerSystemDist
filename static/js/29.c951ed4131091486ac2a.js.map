{"version":3,"sources":["webpack:///static/js/29.c951ed4131091486ac2a.js","webpack:///./src/views/customer/detailConfig.js?cdcd","webpack:///modalDetail.vue?a836*","webpack:///./src/views/customer/modalDetail.vue?87ed*","webpack:///./src/views/customer/modalDetail.vue?0962*","webpack:///./src/views/customer/modalDetail.vue?37be*","webpack:///./src/views/customer/modalDetail.vue?a7d0","webpack:///./src/utils/validate-rule.js?8ab8*****"],"names":["webpackJsonp","1065","module","exports","__webpack_require__","Object","defineProperty","value","configData","configRule","contactData","contactRule","undefined","_validateRule","_validateRule2","obj","__esModule","default","linkman_name","max","message","min","linkman_contact","validator","phone","linkman_post","is_primary","customer_name","required","social_credit_code","industry_type_id","industry_subtype_id","linkmen","customer_level","province_id","city_id","address","website","turnover","staff_num","primary_business","business_licence_img","attaches","customer_summary","1069","_interopRequireDefault","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_assign","_assign2","_detailConfig","_api","_api2","data","detailForm","detailFormRule","fileList","props","type","Boolean","customerDetail","mounted","watch","nv","ov","vm","this","id","editContactForm","initContactForm","resetForm","methods","dialogClose","dialogVisible","$emit","confirm","_ref","apply","arguments","mark","_callee","_this","wrap","_context","prev","next","$refs","validate","valid","params","customer","putEditCustomer","then","postNewCustomer","stop","save","addContactor","push","delContactor","item","index","splice","$message","len","length","i","console","log","handleRemove","file","handlePreview","handleExceed","files","warning","beforeRemove","$confirm","name","1099","version","sources","names","mappings","sourcesContent","sourceRoot","1115","content","locals","1135","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","visible","width","append-to-body","before-close","on","update:visible","$event","ref","model","rules","size","label-width","label","prop","callback","$$v","$set","expression","_v","_l","key","placeholder","class","pr20","_e","click","plain","action","on-preview","on-remove","before-remove","multiple","limit","on-exceed","file-list","slot","staticRenderFns","873","Component","930","_typeof2","_typeof3","PHONE","rule","points","test","Error","DATE_RANGE","CUR_DATE_LIMIT","Date","valueOf","POINT_LIMIT","VALIDATE_ID_CARD","CARGO_SECTION","source","c_name","field","REQUIRED","_ref$message","_ref$trigger","trigger","MAX","_ref2","_ref2$type","_ref2$message","_ref2$trigger","_ref2$max","MIN","_ref3","_ref3$type","_ref3$message","_ref3$trigger","_ref3$min","idCard","pointLimit","cargoSection","curDateLimit","dataRange"],"mappings":"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","file":"static/js/29.c951ed4131091486ac2a.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ 1065:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configData = exports.configRule = exports.contactData = exports.contactRule = undefined;\n\nvar _validateRule = __webpack_require__(930);\n\nvar _validateRule2 = _interopRequireDefault(_validateRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar contactRule = exports.contactRule = {\n  linkman_name: [_validateRule2.default.max({\n    max: 20,\n    message: \"最多不能超过20个字\"\n  }), _validateRule2.default.min({\n    min: 2,\n    message: \"至少2个字\"\n  })],\n  linkman_contact: [{\n    validator: _validateRule2.default.phone\n  }]\n};\nvar contactData = exports.contactData = {\n  linkman_name: \"\",\n  linkman_contact: \"\",\n  linkman_post: \"\",\n  is_primary: 0\n};\nvar configRule = exports.configRule = {\n  customer_name: [_validateRule2.default.required({\n    message: \"请输入客户名称\"\n  }), _validateRule2.default.max({\n    max: 50,\n    message: \"最多不能超过50个字\"\n  }), _validateRule2.default.min({\n    min: 2,\n    message: \"至少2个字\"\n  })],\n  social_credit_code: [_validateRule2.default.required({\n    message: \"请输入社会信用代码\"\n  })],\n  industry_type_id: [_validateRule2.default.required({\n    message: \"请选择行业大类\"\n  })],\n  industry_subtype_id: [_validateRule2.default.required({\n    message: \"请选择行业子类\"\n  })],\n  linkmen: [{\n    linkman_name: [_validateRule2.default.required({\n      message: \"请输入姓名\"\n    }), _validateRule2.default.max({\n      max: 20,\n      message: \"最多不能超过20个字\"\n    }), _validateRule2.default.min({\n      min: 2,\n      message: \"至少2个字\"\n    })],\n    linkman_contact: [{\n      validator: _validateRule2.default.phone\n    }],\n    linkman_post: [_validateRule2.default.required({\n      message: \"请输入联系人职务\"\n    })]\n  }]\n};\nvar configData = exports.configData = {\n  customer_name: '1111',\n  social_credit_code: '1111',\n  customer_level: 1,\n  industry_type_id: '1111',\n  industry_subtype_id: '1111',\n  linkmen: [{\n    linkman_name: \"\",\n    linkman_contact: \"\",\n    linkman_post: \"\",\n    is_primary: 1\n  }],\n  province_id: 11,\n  city_id: 1,\n  address: '1111',\n  website: '1111',\n  turnover: 11.2,\n  staff_num: 20,\n  primary_business: '1111',\n  business_licence_img: '1111',\n  attaches: [],\n  customer_summary: '1111'\n};\n\n/***/ }),\n\n/***/ 1069:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = __webpack_require__(218);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(217);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _assign = __webpack_require__(141);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _validateRule = __webpack_require__(930);\n\nvar _validateRule2 = _interopRequireDefault(_validateRule);\n\nvar _detailConfig = __webpack_require__(1065);\n\nvar _api = __webpack_require__(142);\n\nvar _api2 = _interopRequireDefault(_api);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      detailForm: {},\n      detailFormRule: _detailConfig.configRule,\n      fileList: []\n    };\n  },\n\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    customerDetail: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  mounted: function mounted() {},\n\n  watch: {\n    value: function value(nv, ov) {\n      var vm = this;\n      vm.detailForm = (0, _assign2.default)({}, vm.customerDetail);\n      if (nv) {\n        if (vm.customerDetail && vm.customerDetail.id) {\n          vm.editContactForm();\n        } else {\n          this.initContactForm();\n        }\n      } else {\n        this.resetForm();\n      }\n    }\n  },\n  methods: {\n    dialogClose: function dialogClose() {\n      this.dialogVisible = false;\n      this.$emit(\"input\", false);\n    },\n    confirm: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        var _this = this;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$refs.detailForm.validate(function (valid) {\n                  if (valid) {\n                    var params = (0, _assign2.default)({}, _this.detailForm);\n                    if (_this.detailForm.id) {\n                      _api2.default.customer.putEditCustomer(params).then(function () {\n                        _this.dialogClose();\n                        _this.$emit(\"reload-list\");\n                      });\n                    } else {\n                      _api2.default.customer.postNewCustomer(params).then(function () {\n                        _this.dialogClose();\n                        _this.$emit(\"reload-list\");\n                      });\n                    }\n                  } else {\n                    return false;\n                  }\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function confirm() {\n        return _ref.apply(this, arguments);\n      }\n\n      return confirm;\n    }(),\n    save: function save() {},\n    addContactor: function addContactor() {\n      var vm = this;\n      this.detailForm.linkmen.push((0, _assign2.default)({}, _detailConfig.contactData, {\n        is_primary: 0\n      }));\n      this.detailFormRule.linkmen.push(_detailConfig.contactRule);\n    },\n    delContactor: function delContactor(item, index) {\n      if (item.is_primary != 1) {\n        this.detailForm.linkmen.splice(index, 1);\n        this.detailFormRule.linkmen.splice(index, 1);\n      } else {\n        this.$message({\n          message: '主联系人不可删除',\n          type: 'warning'\n        });\n      }\n    },\n    editContactForm: function editContactForm() {\n      var len = this.detailForm.linkmen ? this.detailForm.linkmen.length : 0;\n      if (len == 1) {\n        return;\n      }\n      if (len >= 2) {\n        for (var i = 0; i < len - 1; i++) {\n          this.detailFormRule.linkmen.push(_detailConfig.contactRule);\n        }\n        return;\n      }\n      if (len == 0) {\n        this.initContactForm();\n        return;\n      }\n    },\n    initContactForm: function initContactForm() {\n      this.detailFormRule.linkmen = [];\n      console.log(this.detailFormRule.linkmen.length);\n      this.detailForm.linkmen = [];\n      for (var i = 0; i < 2; i++) {\n        var is_primary = i == 0 ? 1 : 0;\n        this.detailForm.linkmen.push((0, _assign2.default)({}, _detailConfig.contactData, {\n          is_primary: is_primary\n        }));\n        this.detailFormRule.linkmen.push(_detailConfig.contactRule);\n      }\n    },\n    resetForm: function resetForm() {\n      console.log(_detailConfig.configRule);\n      this.detailFormRule = _detailConfig.configRule;\n      this.$emit('reset');\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview: function handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed: function handleExceed(files, fileList) {\n      this.$message.warning(\"\\u5F53\\u524D\\u9650\\u5236\\u9009\\u62E9 10 \\u4E2A\\u6587\\u4EF6\\uFF0C\\u672C\\u6B21\\u9009\\u62E9\\u4E86 \" + files.length + \" \\u4E2A\\u6587\\u4EF6\\uFF0C\\u5171\\u9009\\u62E9\\u4E86 \" + (files.length + fileList.length) + \" \\u4E2A\\u6587\\u4EF6\");\n    },\n    beforeRemove: function beforeRemove(file, fileList) {\n      return this.$confirm(\"\\u786E\\u5B9A\\u79FB\\u9664 \" + file.name + \"\\uFF1F\");\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 1099:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".detail-modal .el-dialog__body{padding:30px 40px}.detail-modal .block-title,.detail-modal .el-dialog__header{border-bottom:1px solid #999}.detail-modal .block-title{font-size:16px;line-height:2;font-weight:700;margin-bottom:15px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/customer/modalDetail.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,iBAAmB,CACpB,AAID,4DAFE,4BAA8B,CAQ/B,AAND,2BACE,eAAgB,AAChB,cAAe,AACf,gBAAkB,AAElB,kBAAoB,CACrB\",\"file\":\"modalDetail.vue\",\"sourcesContent\":[\"\\n.detail-modal .el-dialog__body {\\n  padding: 30px 40px;\\n}\\n.detail-modal .el-dialog__header {\\n  border-bottom: 1px solid #999;\\n}\\n.detail-modal .block-title {\\n  font-size: 16px;\\n  line-height: 2;\\n  font-weight: bold;\\n  border-bottom: 1px solid #999;\\n  margin-bottom: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1099);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"46028a3a\", content, true);\n\n/***/ }),\n\n/***/ 1135:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    staticClass: \"detail-modal\",\n    attrs: {\n      \"title\": \"新建客户\",\n      \"visible\": _vm.value,\n      \"width\": \"660px\",\n      \"append-to-body\": \"\",\n      \"before-close\": _vm.dialogClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.value = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"customer-detail\"\n  }, [_c('el-form', {\n    ref: \"detailForm\",\n    attrs: {\n      \"model\": _vm.detailForm,\n      \"rules\": _vm.detailFormRule,\n      \"size\": \"small\",\n      \"label-width\": \"110px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"客户名称：\",\n      \"prop\": \"customer_name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.customer_name),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_name\", $$v)\n      },\n      expression: \"detailForm.customer_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"社会信用代码：\",\n      \"prop\": \"social_credit_code\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.social_credit_code),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"social_credit_code\", $$v)\n      },\n      expression: \"detailForm.social_credit_code\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"客户级别：\",\n      \"prop\": \"customer_level\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.customer_level),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_level\", $$v)\n      },\n      expression: \"detailForm.customer_level\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"box-flex\"\n  }, [_c('el-form-item', {\n    staticClass: \"mr15\",\n    attrs: {\n      \"label\": \"行业类型：\",\n      \"prop\": \"industry_type_id\"\n    }\n  }, [_c('el-select', {\n    staticClass: \"w180\",\n    model: {\n      value: (_vm.detailForm.industry_type_id),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"industry_type_id\", $$v)\n      },\n      expression: \"detailForm.industry_type_id\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"flex-one\",\n    attrs: {\n      \"prop\": \"industry_subtype_id\",\n      \"label-width\": \"0\"\n    }\n  }, [_c('el-select', {\n    staticClass: \"wp100\",\n    model: {\n      value: (_vm.detailForm.industry_subtype_id),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"industry_subtype_id\", $$v)\n      },\n      expression: \"detailForm.industry_subtype_id\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block-title\"\n  }, [_vm._v(\"\\n                    联系人\\n                \")]), _vm._v(\" \"), _vm._l((_vm.detailForm.linkmen), function(item, index) {\n    return _c('div', {\n      key: index\n    }, [_c('div', {\n      staticClass: \"box-flex\"\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": item.is_primary ? '主要联系人：' : '联系人',\n        \"prop\": 'linkmen.' + index + '.linkman_name',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_name\n      }\n    }, [_c('el-input', {\n      staticClass: \"w150 mr15\",\n      attrs: {\n        \"placeholder\": \"姓名\"\n      },\n      model: {\n        value: (item.linkman_name),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_name\", $$v)\n        },\n        expression: \"item.linkman_name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      class: ['wp100', {\n        'pr20': item.is_primary\n      }],\n      attrs: {\n        \"label-width\": \"0px\",\n        \"prop\": 'linkmen.' + index + '.linkman_contact',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_contact\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"placeholder\": \"联系方式\"\n      },\n      model: {\n        value: (item.linkman_contact),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_contact\", $$v)\n        },\n        expression: \"item.linkman_contact\"\n      }\n    })], 1), _vm._v(\" \"), (!item.is_primary) ? _c('i', {\n      staticClass: \"el-icon-circle-close pt10 ml10 fc-red\",\n      on: {\n        \"click\": function($event) {\n          _vm.delContactor(item, index)\n        }\n      }\n    }) : _vm._e()], 1), _vm._v(\" \"), _c('el-form-item', {\n      staticClass: \"pr20\",\n      attrs: {\n        \"label\": \"职务：\",\n        \"prop\": 'linkmen.' + index + '.linkman_post',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_post\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"placeholder\": \"职务\"\n      },\n      model: {\n        value: (item.linkman_post),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_post\", $$v)\n        },\n        expression: \"item.linkman_post\"\n      }\n    })], 1)], 1)\n  }), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"plain\": \"\",\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addContactor\n    }\n  }, [_vm._v(\"添加联系人\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block-title\"\n  }, [_vm._v(\"\\n                    详细信息\\n                \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"省市：\"\n    }\n  }), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"详细地址：\",\n      \"prop\": \"address\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.address),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"address\", $$v)\n      },\n      expression: \"detailForm.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公司网址：\",\n      \"prop\": \"website\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.website),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"website\", $$v)\n      },\n      expression: \"detailForm.website\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"营业额：(元)\",\n      \"prop\": \"turnover\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.turnover),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"turnover\", $$v)\n      },\n      expression: \"detailForm.turnover\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"员工数：\",\n      \"prop\": \"staff_num\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.staff_num),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"staff_num\", $$v)\n      },\n      expression: \"detailForm.staff_num\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"主营业务：\",\n      \"prop\": \"primary_business\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.primary_business),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"primary_business\", $$v)\n      },\n      expression: \"detailForm.primary_business\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"营业执照：\",\n      \"prop\": \"business_licence_img\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"action\": \"https://jsonplaceholder.typicode.com/posts/\",\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"before-remove\": _vm.beforeRemove,\n      \"multiple\": \"\",\n      \"limit\": 3,\n      \"on-exceed\": _vm.handleExceed,\n      \"file-list\": _vm.fileList\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"选择文件\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"请提供证件的原件照片或彩色扫描件，文字/盖章清晰可辨认，jpg、jpeg、pngges ，不超过10MB\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"附件：\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"action\": \"https://jsonplaceholder.typicode.com/posts/\",\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"before-remove\": _vm.beforeRemove,\n      \"multiple\": \"\",\n      \"limit\": 3,\n      \"on-exceed\": _vm.handleExceed,\n      \"file-list\": _vm.fileList\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"选择文件\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"客户概述：\",\n      \"prop\": \"customer_summary\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.detailForm.customer_summary),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_summary\", $$v)\n      },\n      expression: \"detailForm.customer_summary\"\n    }\n  })], 1)], 2)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer tc\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.dialogClose\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.confirm\n    }\n  }, [_vm._v(\"确 定\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 873:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1115)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(1069),\n  /* template */\n  __webpack_require__(1135),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 930:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(371);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PHONE = function PHONE(rule, value, callback) {\n    var points = /^\\d{7,12}$/;\n    if (value == '' || !points.test(value)) {\n        callback(new Error('请输入正确的联系号码'));\n    } else {\n        callback();\n    }\n};\nvar DATE_RANGE = function DATE_RANGE(rule, value, callback) {\n    if (value == '' || value.length == 0) {\n        callback(new Error('请选择时间'));\n    } else {\n        callback();\n    }\n};\nvar CUR_DATE_LIMIT = function CUR_DATE_LIMIT(rule, value, callback) {\n    if ((typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object' && new Date().valueOf() <= value.valueOf()) {\n        callback(new Error('不能选将来时间'));\n    } else {\n        callback();\n    }\n};\n\nvar POINT_LIMIT = function POINT_LIMIT(rule, value, callback) {\n    var points = /^\\d{1,7}(\\.\\d{1,2})?$/;\n    if (value && value != '' && !points.test(value)) {\n        callback(new Error('整数小于7位且小数点不能超过两位'));\n    } else {\n        callback();\n    }\n};\n\nvar VALIDATE_ID_CARD = function VALIDATE_ID_CARD(rule, value, callback) {\n    var points = /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X|x)$/;\n    if (value != null && value != '' && !points.test(value)) {\n        callback(new Error('身份证号码格式有误'));\n    } else {\n        callback();\n    }\n};\nvar CARGO_SECTION = function CARGO_SECTION(rule, value, callback, source) {\n    if (!source.c_name || rule.field != rule.file) {\n        callback();\n        return;\n    }\n\n    if (value == \"\") {\n        callback(new Error('该字段不能为空'));\n    } else {\n        callback();\n    }\n    return false;\n};\n\nvar REQUIRED = function REQUIRED() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$message = _ref.message,\n        message = _ref$message === undefined ? '不能为空' : _ref$message,\n        _ref$trigger = _ref.trigger,\n        trigger = _ref$trigger === undefined ? 'blur' : _ref$trigger;\n\n    return { required: true, message: message, trigger: trigger };\n};\nvar MAX = function MAX() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'string' : _ref2$type,\n        _ref2$message = _ref2.message,\n        message = _ref2$message === undefined ? '不能多于1位' : _ref2$message,\n        _ref2$trigger = _ref2.trigger,\n        trigger = _ref2$trigger === undefined ? 'blur' : _ref2$trigger,\n        _ref2$max = _ref2.max,\n        max = _ref2$max === undefined ? 1 : _ref2$max;\n\n    return { type: type, max: max, message: message, trigger: trigger };\n};\nvar MIN = function MIN() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref3$type = _ref3.type,\n        type = _ref3$type === undefined ? 'string' : _ref3$type,\n        _ref3$message = _ref3.message,\n        message = _ref3$message === undefined ? '不能少于1位' : _ref3$message,\n        _ref3$trigger = _ref3.trigger,\n        trigger = _ref3$trigger === undefined ? 'blur' : _ref3$trigger,\n        _ref3$min = _ref3.min,\n        min = _ref3$min === undefined ? 1 : _ref3$min;\n\n    return { type: type, min: min, message: message, trigger: trigger };\n};\n\nexports.default = {\n    idCard: VALIDATE_ID_CARD,\n    phone: PHONE,\n    required: REQUIRED,\n    max: MAX,\n    min: MIN,\n    pointLimit: POINT_LIMIT,\n    cargoSection: CARGO_SECTION,\n    curDateLimit: CUR_DATE_LIMIT,\n    dataRange: DATE_RANGE\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/29.c951ed4131091486ac2a.js","import rule from '@/utils/validate-rule'\nexport const contactRule={\n    linkman_name: [\n      rule.max({\n        max: 20,\n        message: \"最多不能超过20个字\"\n      }),\n      rule.min({\n        min: 2,\n        message: \"至少2个字\"\n      })\n    ],\n    linkman_contact: [\n      {\n        validator: rule.phone\n      }\n    ]\n  }\nexport const contactData={\n    linkman_name: \"\",\n    linkman_contact: \"\",\n    linkman_post: \"\",\n    is_primary:0,\n  }\nexport const configRule={\n    customer_name: [\n      rule.required({\n        message: \"请输入客户名称\"\n      }),\n      rule.max({\n        max: 50,\n        message: \"最多不能超过50个字\"\n      }),\n      rule.min({\n        min: 2,\n        message: \"至少2个字\"\n      })\n    ],\n    social_credit_code: [\n      rule.required({\n        message: \"请输入社会信用代码\"\n      })\n    ],\n    industry_type_id: [\n      rule.required({\n        message: \"请选择行业大类\"\n      })\n    ],\n    industry_subtype_id: [\n      rule.required({\n        message: \"请选择行业子类\"\n      })\n    ],\n    linkmen: [{\n      linkman_name: [\n        rule.required({\n          message: \"请输入姓名\"\n        }),\n        rule.max({\n          max: 20,\n          message: \"最多不能超过20个字\"\n        }),\n        rule.min({\n          min: 2,\n          message: \"至少2个字\"\n        })\n      ],\n      linkman_contact: [\n        {\n          validator: rule.phone\n        }\n      ],\n      linkman_post: [\n        rule.required({\n          message: \"请输入联系人职务\"\n        })\n      ]\n    }]\n  }\n  export const configData = {\n  customer_name:'1111',\n  social_credit_code:'1111',\n  customer_level:1,\n  industry_type_id:'1111',\n  industry_subtype_id:'1111',\n  linkmen:[{\n    linkman_name: \"\",\n    linkman_contact: \"\",\n    linkman_post: \"\",\n    is_primary:1,\n  }],\n  province_id:11,\n  city_id:1,\n  address:'1111',\n  website:'1111',\n  turnover:11.2,\n  staff_num:20,\n  primary_business:'1111',\n  business_licence_img:'1111',\n  attaches:[],\n  customer_summary:'1111',\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/customer/detailConfig.js","<template>\n<div>\n    <el-dialog title=\"新建客户\" :visible.sync=\"value\" width=\"660px\" append-to-body :before-close=\"dialogClose\" class=\"detail-modal\">\n        <div class=\"customer-detail\">\n            <el-form :model=\"detailForm\" ref=\"detailForm\" :rules=\"detailFormRule\" size=\"small\" label-width=\"110px\">\n                <el-form-item label=\"客户名称：\" prop=\"customer_name\">\n                    <el-input v-model=\"detailForm.customer_name\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"社会信用代码：\" prop=\"social_credit_code\">\n                    <el-input v-model=\"detailForm.social_credit_code\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"客户级别：\" prop=\"customer_level\">\n                    <el-input v-model=\"detailForm.customer_level\"></el-input>\n                </el-form-item>\n                <div class=\"box-flex\">\n                    <el-form-item label=\"行业类型：\" prop=\"industry_type_id\" class=\"mr15\">\n                        <el-select v-model=\"detailForm.industry_type_id\" class=\"w180\">\n                            <!-- <el-option v-for=\"(item,index) in industryType\" :key=\"index\" :value=\"item.value\" :item=\"item.value\"></el-option> -->\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item class=\"flex-one\" prop=\"industry_subtype_id\" label-width=\"0\">\n                        <el-select v-model=\"detailForm.industry_subtype_id\" class=\"wp100\">\n                            <!-- <el-option v-for=\"(item,index) in industryType\" :key=\"index\" :value=\"item.value\" :item=\"item.value\"></el-option> -->\n                        </el-select>\n                    </el-form-item>\n                </div>\n                <div class=\"block-title\">\n                    联系人\n                </div>\n                <div v-for=\"(item,index) in detailForm.linkmen\" :key=\"index\">\n                    <div class=\"box-flex\">\n                        <el-form-item :label=\"item.is_primary?'主要联系人：':'联系人'\" :prop=\"'linkmen.'+index+'.linkman_name'\" :rules=\"detailFormRule.linkmen[index].linkman_name\">\n                            <el-input v-model=\"item.linkman_name\" class=\"w150 mr15\" placeholder=\"姓名\"></el-input>\n                        </el-form-item>\n                        <el-form-item label-width=\"0px\" :prop=\"'linkmen.'+index+'.linkman_contact'\" :class=\"['wp100',{'pr20':item.is_primary}]\" :rules=\"detailFormRule.linkmen[index].linkman_contact\">\n                            <el-input v-model=\"item.linkman_contact\" placeholder=\"联系方式\"></el-input>\n                        </el-form-item >\n                        <i class=\"el-icon-circle-close pt10 ml10 fc-red\" @click=\"delContactor(item,index)\" v-if=\"!item.is_primary\"></i>\n                    </div>\n                    <el-form-item label=\"职务：\" :prop=\"'linkmen.'+index+'.linkman_post'\" :rules=\"detailFormRule.linkmen[index].linkman_post\" class=\"pr20\">\n                        <el-input v-model=\"item.linkman_post\" placeholder=\"职务\"></el-input>\n                    </el-form-item>\n                </div>\n                <el-form-item>\n                    <el-button plain type=\"primary\" @click=\"addContactor\">添加联系人</el-button>\n                </el-form-item>\n                <div class=\"block-title\">\n                    详细信息\n                </div>\n                <el-form-item label=\"省市：\">\n                    <!-- <el-cascader v-model=\"detailForm.customer_name\"></el-cascader> -->\n                </el-form-item>\n                <el-form-item label=\"详细地址：\" prop=\"address\">\n                    <el-input v-model=\"detailForm.address\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"公司网址：\" prop=\"website\">\n                    <el-input v-model=\"detailForm.website\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"营业额：(元)\" prop=\"turnover\">\n                    <el-input v-model=\"detailForm.turnover\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"员工数：\" prop=\"staff_num\">\n                    <el-input v-model=\"detailForm.staff_num\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"主营业务：\" prop=\"primary_business\">\n                    <el-input v-model=\"detailForm.primary_business\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"营业执照：\" prop=\"business_licence_img\">\n                    <el-upload class=\"upload-demo\" action=\"https://jsonplaceholder.typicode.com/posts/\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" :before-remove=\"beforeRemove\" multiple :limit=\"3\" :on-exceed=\"handleExceed\" :file-list=\"fileList\">\n                        <el-button size=\"small\" type=\"primary\">选择文件</el-button>\n                        <div slot=\"tip\" class=\"el-upload__tip\">请提供证件的原件照片或彩色扫描件，文字/盖章清晰可辨认，jpg、jpeg、pngges ，不超过10MB</div>\n                    </el-upload>\n                </el-form-item>\n                <el-form-item label=\"附件：\">\n                    <el-upload class=\"upload-demo\" action=\"https://jsonplaceholder.typicode.com/posts/\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" :before-remove=\"beforeRemove\" multiple :limit=\"3\" :on-exceed=\"handleExceed\" :file-list=\"fileList\">\n                        <el-button size=\"small\" type=\"primary\">选择文件</el-button>\n                    </el-upload>\n                </el-form-item>\n                <el-form-item label=\"客户概述：\" prop=\"customer_summary\">\n                    <el-input type=\"textarea\" v-model=\"detailForm.customer_summary\"></el-input>\n                </el-form-item>\n            </el-form>\n        </div>\n        <div slot=\"footer\" class=\"dialog-footer tc\">\n            <el-button @click=\"dialogClose\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\n        </div>\n    </el-dialog>\n    </div>\n</template>\n\n<script>\nimport rule from \"@/utils/validate-rule\";\nimport { contactRule, contactData ,configData,configRule} from \"./detailConfig\";\nimport apis from \"@/api\";\nexport default {\n  data() {\n    return {\n      detailForm:{},\n      detailFormRule: configRule,\n      fileList: []\n    };\n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    customerDetail: {\n      type: Object,\n      default: ()=>{\n          return {}\n      }\n    }\n  },\n  mounted() {},\n  watch: {\n    value: function(nv, ov) {\n        let vm = this\n        vm.detailForm = Object.assign({},vm.customerDetail)\n      if (nv) {\n        if (vm.customerDetail&&vm.customerDetail.id) {\n          vm.editContactForm()\n        }else{\n            this.initContactForm();\n        }\n      }else{\n          this.resetForm()\n      }\n    }\n  },\n  methods: {\n    dialogClose() {\n      this.dialogVisible = false;\n      this.$emit(\"input\", false);\n    },\n    async confirm() {\n        this.$refs.detailForm.validate((valid)=>{\n            if(valid){\n                let params = Object.assign({},this.detailForm)\n                if(this.detailForm.id){\n                    apis.customer.putEditCustomer(params).then(()=>{\n                        this.dialogClose();\n                        this.$emit(\"reload-list\");\n                    })\n                }else{\n                    apis.customer.postNewCustomer(params).then(()=>{\n                        this.dialogClose();\n                        this.$emit(\"reload-list\");\n                    })\n                }\n            }else{\n                return false\n            }\n        })\n       \n    },\n    save() {},\n    //添加联系人\n    addContactor() {\n      let vm = this;\n      this.detailForm.linkmen.push(\n            Object.assign({}, contactData, {\n              is_primary:0\n            })\n          );\n          this.detailFormRule.linkmen.push(contactRule);\n    },\n    //删除联系人\n    delContactor(item,index){\n        if(item.is_primary!=1){\n            this.detailForm.linkmen.splice(index, 1)\n            this.detailFormRule.linkmen.splice(index, 1)\n        }else{\n            this.$message({\n                message: '主联系人不可删除',\n                type: 'warning'\n            });\n        }\n    },\n    editContactForm(){\n        let len = this.detailForm.linkmen?this.detailForm.linkmen.length:0\n        if(len==1){\n            return\n        }\n        if(len>=2){\n            for (let i = 0; i < len-1;i++) {\n                this.detailFormRule.linkmen.push(contactRule)\n            }\n            return\n        }\n        if(len==0){\n            this.initContactForm()\n            return\n        }\n    },\n    initContactForm() {\n        this.detailFormRule.linkmen=[]\n        console.log(this.detailFormRule.linkmen.length)\n        this.detailForm.linkmen=[]\n        for (let i = 0; i < 2; i++) {\n          let is_primary = i == 0 ? 1 : 0;\n          this.detailForm.linkmen.push(\n            Object.assign({}, contactData, {\n              is_primary\n            })\n          );\n          this.detailFormRule.linkmen.push(contactRule);\n        }\n    },\n    resetForm(){\n        // this.detailForm=configData\n        console.log(configRule)\n        this.detailFormRule = configRule\n        this.$emit('reset')\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(\n        `当前限制选择 10 个文件，本次选择了 ${\n          files.length\n        } 个文件，共选择了 ${files.length + fileList.length} 个文件`\n      );\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.detail-modal {\n  .el-dialog__body {\n    padding: 30px 40px;\n  }\n  .el-dialog__header {\n    border-bottom: 1px solid #999;\n  }\n  .block-title {\n    font-size: 16px;\n    line-height: 2;\n    font-weight: bold;\n    border-bottom: 1px solid #999;\n    margin-bottom: 15px;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// modalDetail.vue?59a7f127","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".detail-modal .el-dialog__body{padding:30px 40px}.detail-modal .block-title,.detail-modal .el-dialog__header{border-bottom:1px solid #999}.detail-modal .block-title{font-size:16px;line-height:2;font-weight:700;margin-bottom:15px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/customer/modalDetail.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,iBAAmB,CACpB,AAID,4DAFE,4BAA8B,CAQ/B,AAND,2BACE,eAAgB,AAChB,cAAe,AACf,gBAAkB,AAElB,kBAAoB,CACrB\",\"file\":\"modalDetail.vue\",\"sourcesContent\":[\"\\n.detail-modal .el-dialog__body {\\n  padding: 30px 40px;\\n}\\n.detail-modal .el-dialog__header {\\n  border-bottom: 1px solid #999;\\n}\\n.detail-modal .block-title {\\n  font-size: 16px;\\n  line-height: 2;\\n  font-weight: bold;\\n  border-bottom: 1px solid #999;\\n  margin-bottom: 15px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-784941d4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customer/modalDetail.vue\n// module id = 1099\n// module chunks = 12 29","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-784941d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./modalDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"46028a3a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-784941d4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/customer/modalDetail.vue\n// module id = 1115\n// module chunks = 12 29","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    staticClass: \"detail-modal\",\n    attrs: {\n      \"title\": \"新建客户\",\n      \"visible\": _vm.value,\n      \"width\": \"660px\",\n      \"append-to-body\": \"\",\n      \"before-close\": _vm.dialogClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.value = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"customer-detail\"\n  }, [_c('el-form', {\n    ref: \"detailForm\",\n    attrs: {\n      \"model\": _vm.detailForm,\n      \"rules\": _vm.detailFormRule,\n      \"size\": \"small\",\n      \"label-width\": \"110px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"客户名称：\",\n      \"prop\": \"customer_name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.customer_name),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_name\", $$v)\n      },\n      expression: \"detailForm.customer_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"社会信用代码：\",\n      \"prop\": \"social_credit_code\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.social_credit_code),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"social_credit_code\", $$v)\n      },\n      expression: \"detailForm.social_credit_code\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"客户级别：\",\n      \"prop\": \"customer_level\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.customer_level),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_level\", $$v)\n      },\n      expression: \"detailForm.customer_level\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"box-flex\"\n  }, [_c('el-form-item', {\n    staticClass: \"mr15\",\n    attrs: {\n      \"label\": \"行业类型：\",\n      \"prop\": \"industry_type_id\"\n    }\n  }, [_c('el-select', {\n    staticClass: \"w180\",\n    model: {\n      value: (_vm.detailForm.industry_type_id),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"industry_type_id\", $$v)\n      },\n      expression: \"detailForm.industry_type_id\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"flex-one\",\n    attrs: {\n      \"prop\": \"industry_subtype_id\",\n      \"label-width\": \"0\"\n    }\n  }, [_c('el-select', {\n    staticClass: \"wp100\",\n    model: {\n      value: (_vm.detailForm.industry_subtype_id),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"industry_subtype_id\", $$v)\n      },\n      expression: \"detailForm.industry_subtype_id\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block-title\"\n  }, [_vm._v(\"\\n                    联系人\\n                \")]), _vm._v(\" \"), _vm._l((_vm.detailForm.linkmen), function(item, index) {\n    return _c('div', {\n      key: index\n    }, [_c('div', {\n      staticClass: \"box-flex\"\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": item.is_primary ? '主要联系人：' : '联系人',\n        \"prop\": 'linkmen.' + index + '.linkman_name',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_name\n      }\n    }, [_c('el-input', {\n      staticClass: \"w150 mr15\",\n      attrs: {\n        \"placeholder\": \"姓名\"\n      },\n      model: {\n        value: (item.linkman_name),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_name\", $$v)\n        },\n        expression: \"item.linkman_name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      class: ['wp100', {\n        'pr20': item.is_primary\n      }],\n      attrs: {\n        \"label-width\": \"0px\",\n        \"prop\": 'linkmen.' + index + '.linkman_contact',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_contact\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"placeholder\": \"联系方式\"\n      },\n      model: {\n        value: (item.linkman_contact),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_contact\", $$v)\n        },\n        expression: \"item.linkman_contact\"\n      }\n    })], 1), _vm._v(\" \"), (!item.is_primary) ? _c('i', {\n      staticClass: \"el-icon-circle-close pt10 ml10 fc-red\",\n      on: {\n        \"click\": function($event) {\n          _vm.delContactor(item, index)\n        }\n      }\n    }) : _vm._e()], 1), _vm._v(\" \"), _c('el-form-item', {\n      staticClass: \"pr20\",\n      attrs: {\n        \"label\": \"职务：\",\n        \"prop\": 'linkmen.' + index + '.linkman_post',\n        \"rules\": _vm.detailFormRule.linkmen[index].linkman_post\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"placeholder\": \"职务\"\n      },\n      model: {\n        value: (item.linkman_post),\n        callback: function($$v) {\n          _vm.$set(item, \"linkman_post\", $$v)\n        },\n        expression: \"item.linkman_post\"\n      }\n    })], 1)], 1)\n  }), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"plain\": \"\",\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addContactor\n    }\n  }, [_vm._v(\"添加联系人\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block-title\"\n  }, [_vm._v(\"\\n                    详细信息\\n                \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"省市：\"\n    }\n  }), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"详细地址：\",\n      \"prop\": \"address\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.address),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"address\", $$v)\n      },\n      expression: \"detailForm.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公司网址：\",\n      \"prop\": \"website\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.website),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"website\", $$v)\n      },\n      expression: \"detailForm.website\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"营业额：(元)\",\n      \"prop\": \"turnover\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.turnover),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"turnover\", $$v)\n      },\n      expression: \"detailForm.turnover\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"员工数：\",\n      \"prop\": \"staff_num\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.staff_num),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"staff_num\", $$v)\n      },\n      expression: \"detailForm.staff_num\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"主营业务：\",\n      \"prop\": \"primary_business\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.detailForm.primary_business),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"primary_business\", $$v)\n      },\n      expression: \"detailForm.primary_business\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"营业执照：\",\n      \"prop\": \"business_licence_img\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"action\": \"https://jsonplaceholder.typicode.com/posts/\",\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"before-remove\": _vm.beforeRemove,\n      \"multiple\": \"\",\n      \"limit\": 3,\n      \"on-exceed\": _vm.handleExceed,\n      \"file-list\": _vm.fileList\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"选择文件\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"请提供证件的原件照片或彩色扫描件，文字/盖章清晰可辨认，jpg、jpeg、pngges ，不超过10MB\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"附件：\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"action\": \"https://jsonplaceholder.typicode.com/posts/\",\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"before-remove\": _vm.beforeRemove,\n      \"multiple\": \"\",\n      \"limit\": 3,\n      \"on-exceed\": _vm.handleExceed,\n      \"file-list\": _vm.fileList\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"选择文件\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"客户概述：\",\n      \"prop\": \"customer_summary\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.detailForm.customer_summary),\n      callback: function($$v) {\n        _vm.$set(_vm.detailForm, \"customer_summary\", $$v)\n      },\n      expression: \"detailForm.customer_summary\"\n    }\n  })], 1)], 2)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer tc\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.dialogClose\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.confirm\n    }\n  }, [_vm._v(\"确 定\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-784941d4\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/customer/modalDetail.vue\n// module id = 1135\n// module chunks = 12 29","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-784941d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modalDetail.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalDetail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-784941d4\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./modalDetail.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/customer/modalDetail.vue\n// module id = 873\n// module chunks = 12 29","const PHONE = (rule, value, callback) => {\r\n    var points = /^\\d{7,12}$/;\r\n    if (value == '' ||!points.test(value)) {\r\n        callback(new Error('请输入正确的联系号码'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\nconst DATE_RANGE=(rule, value, callback)=>{\r\n    if(value ==''||value.length==0){\r\n        callback(new Error('请选择时间'));\r\n    }else{\r\n        callback()\r\n    }\r\n}\r\nconst CUR_DATE_LIMIT = (rule, value, callback) => {\r\n    if (typeof (value) == 'object' && (new Date()).valueOf() <= value.valueOf()) {\r\n        callback(new Error('不能选将来时间'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nconst POINT_LIMIT = (rule, value, callback) => {\r\n    var points = /^\\d{1,7}(\\.\\d{1,2})?$/;\r\n    if (value && value != '' && !points.test(value)) {\r\n        callback(new Error('整数小于7位且小数点不能超过两位'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nconst VALIDATE_ID_CARD = (rule, value, callback) => {\r\n    var points = /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X|x)$/;\r\n    if (value != null && value != '' && !points.test(value)) {\r\n        callback(new Error('身份证号码格式有误'));\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\nconst CARGO_SECTION = (rule, value, callback, source) => {\r\n    if (!source.c_name || rule.field != rule.file) {\r\n        callback();\r\n        return\r\n    }\r\n\r\n    if (value == \"\") {\r\n        callback(new Error('该字段不能为空'));\r\n    } else {\r\n        callback();\r\n    }\r\n    return false\r\n};\r\n\r\n\r\nconst REQUIRED = ({ message = '不能为空', trigger = 'blur' } = {}) => {\r\n    return { required: true, message: message, trigger: trigger }\r\n}\r\nconst MAX = ({ type = 'string', message = '不能多于1位', trigger = 'blur', max = 1 } = {}) => {\r\n    return { type: type, max: max, message: message, trigger: trigger }\r\n}\r\nconst MIN = ({ type = 'string', message = '不能少于1位', trigger = 'blur', min = 1 } = {}) => {\r\n    return { type: type, min: min, message: message, trigger: trigger }\r\n}\r\n\r\nexport default {\r\n    idCard: VALIDATE_ID_CARD,\r\n    phone: PHONE,\r\n    required: REQUIRED,\r\n    max: MAX,\r\n    min: MIN,\r\n    pointLimit: POINT_LIMIT,\r\n    cargoSection: CARGO_SECTION,\r\n    curDateLimit: CUR_DATE_LIMIT,\r\n    dataRange:DATE_RANGE\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate-rule.js"],"sourceRoot":""}