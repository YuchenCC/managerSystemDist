webpackJsonp([25],{1079:function(e,t,l){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=l(141),o=i(a),n=l(930),r=i(n),s=l(1089);t.default={data:function(){return{detailForm:{linkmen:[]},detailFormRule:{customer_name:[r.default.required({message:"请输入客户名称"}),r.default.max({max:50,message:"最多不能超过50个字"}),r.default.min({min:2,message:"至少2个字"})],social_credit_code:[r.default.required({message:"请输入社会信用代码"})],industry_type_id:[r.default.required({message:"请选择行业大类"})],industry_subtype_id:[r.default.required({message:"请选择行业子类"})],linkmen:[]},fileList:[]}},props:{value:{type:Boolean,default:!1}},created:function(){this.initContactForm()},methods:{dialogClose:function(){this.dialogVisible=!1,this.$emit("input",!1)},confirm:function(){this.dialogClose(),this.$emit("reload-list")},save:function(){},addContactor:function(){},initContactForm:function(){this.detailForm.linkmen=[],this.detailFormRule.linkmen=[];for(var e=0;e<2;e++){var t=0==e?1:0;this.detailForm.linkmen.push((0,o.default)({},s.contactData,{is_primary:t})),this.detailFormRule.linkmen.push(s.contactRule)}},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 10 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")}}}},1089:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactData=t.contactRule=void 0;var i=l(930),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.contactRule={linkman_name:[a.default.required({message:"请输入姓名"}),a.default.max({max:20,message:"最多不能超过20个字"}),a.default.min({min:2,message:"至少2个字"})],linkman_contact:[{validator:a.default.phone}],linkman_post:[a.default.required({message:"请输入联系人职务"})]},t.contactData={linkman_name:"",linkman_contact:"",linkman_post:""}},1100:function(e,t,l){t=e.exports=l(867)(),t.push([e.i,".detail-modal .el-dialog__body{padding:30px 40px}.detail-modal .block-title,.detail-modal .el-dialog__header{border-bottom:1px solid #999}.detail-modal .block-title{font-size:16px;line-height:2;font-weight:700;margin-bottom:15px}","",{version:3,sources:["D:/桌面/personal/project/web-project/src/views/project/modalDetail.vue"],names:[],mappings:"AACA,+BACE,iBAAmB,CACpB,AAID,4DAFE,4BAA8B,CAQ/B,AAND,2BACE,eAAgB,AAChB,cAAe,AACf,gBAAkB,AAElB,kBAAoB,CACrB",file:"modalDetail.vue",sourcesContent:["\n.detail-modal .el-dialog__body {\n  padding: 30px 40px;\n}\n.detail-modal .el-dialog__header {\n  border-bottom: 1px solid #999;\n}\n.detail-modal .block-title {\n  font-size: 16px;\n  line-height: 2;\n  font-weight: bold;\n  border-bottom: 1px solid #999;\n  margin-bottom: 15px;\n}\n"],sourceRoot:""}])},1116:function(e,t,l){var i=l(1100);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);l(868)("4c3f007f",i,!0)},1136:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{staticClass:"detail-modal",attrs:{title:"新建客户",visible:e.value,width:"660px","append-to-body":"","before-close":e.dialogClose},on:{"update:visible":function(t){e.value=t}}},[l("div",{staticClass:"customer-detail"},[l("el-form",{ref:"detailForm",attrs:{model:e.detailForm,rules:e.detailFormRule,size:"small","label-width":"110px"}},[l("el-form-item",{attrs:{label:"客户名称：",prop:"customer_name"}},[l("el-input",{model:{value:e.detailForm.customer_name,callback:function(t){e.$set(e.detailForm,"customer_name",t)},expression:"detailForm.customer_name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"社会信用代码：",prop:"social_credit_code"}},[l("el-input",{model:{value:e.detailForm.social_credit_code,callback:function(t){e.$set(e.detailForm,"social_credit_code",t)},expression:"detailForm.social_credit_code"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客户级别：",prop:"customer_level"}},[l("el-input",{model:{value:e.detailForm.customer_level,callback:function(t){e.$set(e.detailForm,"customer_level",t)},expression:"detailForm.customer_level"}})],1),e._v(" "),l("div",{staticClass:"box-flex"},[l("el-form-item",{staticClass:"mr15",attrs:{label:"行业类型：",prop:"industry_type_id"}},[l("el-select",{staticClass:"w180",model:{value:e.detailForm.industry_type_id,callback:function(t){e.$set(e.detailForm,"industry_type_id",t)},expression:"detailForm.industry_type_id"}})],1),e._v(" "),l("el-form-item",{staticClass:"flex-one",attrs:{prop:"industry_subtype_id","label-width":"0"}},[l("el-select",{staticClass:"wp100",model:{value:e.detailForm.industry_subtype_id,callback:function(t){e.$set(e.detailForm,"industry_subtype_id",t)},expression:"detailForm.industry_subtype_id"}})],1)],1),e._v(" "),l("div",{staticClass:"block-title"},[e._v("\n                    联系人\n                ")]),e._v(" "),e._l(e.detailForm.linkmen,function(t,i){return l("div",{key:i},[l("div",{staticClass:"box-flex"},[l("el-form-item",{attrs:{label:t.is_primary?"主要联系人：":"联系人",prop:"linkmen."+i+".linkman_name",rules:e.detailFormRule.linkmen[i].linkman_name}},[l("el-input",{staticClass:"w150 mr15",attrs:{placeholder:"姓名"},model:{value:t.linkman_name,callback:function(l){e.$set(t,"linkman_name",l)},expression:"item.linkman_name"}})],1),e._v(" "),l("el-form-item",{staticClass:"wp100",attrs:{"label-width":"0px",prop:"linkmen."+i+".linkman_contact",rules:e.detailFormRule.linkmen[i].linkman_contact}},[l("el-input",{attrs:{placeholder:"联系方式"},model:{value:t.linkman_contact,callback:function(l){e.$set(t,"linkman_contact",l)},expression:"item.linkman_contact"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"职务：",prop:"linkmen."+i+".linkman_post",rules:e.detailFormRule.linkmen[i].linkman_post}},[l("el-input",{attrs:{placeholder:"职务"},model:{value:t.linkman_post,callback:function(l){e.$set(t,"linkman_post",l)},expression:"item.linkman_post"}})],1)],1)}),e._v(" "),l("el-form-item",[l("el-button",{attrs:{plain:"",type:"primary"}},[e._v("添加联系人")])],1),e._v(" "),l("div",{staticClass:"block-title"},[e._v("\n                    详细信息\n                ")]),e._v(" "),l("el-form-item",{attrs:{label:"省市："}}),e._v(" "),l("el-form-item",{attrs:{label:"详细地址：",prop:"address"}},[l("el-input",{model:{value:e.detailForm.address,callback:function(t){e.$set(e.detailForm,"address",t)},expression:"detailForm.address"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"公司网址：",prop:"website"}},[l("el-input",{model:{value:e.detailForm.website,callback:function(t){e.$set(e.detailForm,"website",t)},expression:"detailForm.website"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"营业额：(元)",prop:"turnover"}},[l("el-input",{model:{value:e.detailForm.turnover,callback:function(t){e.$set(e.detailForm,"turnover",t)},expression:"detailForm.turnover"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"员工数：",prop:"staff_num"}},[l("el-input",{model:{value:e.detailForm.staff_num,callback:function(t){e.$set(e.detailForm,"staff_num",t)},expression:"detailForm.staff_num"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"主营业务：",prop:"primary_business"}},[l("el-input",{model:{value:e.detailForm.primary_business,callback:function(t){e.$set(e.detailForm,"primary_business",t)},expression:"detailForm.primary_business"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"营业执照：",prop:"business_licence_img"}},[l("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")]),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请提供证件的原件照片或彩色扫描件，文字/盖章清晰可辨认，jpg、jpeg、pngges ，不超过10MB")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"附件："}},[l("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"客户概述：",prop:"customer_summary"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.detailForm.customer_summary,callback:function(t){e.$set(e.detailForm,"customer_summary",t)},expression:"detailForm.customer_summary"}})],1)],2)],1),e._v(" "),l("div",{staticClass:"dialog-footer tc",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.dialogClose}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},883:function(e,t,l){l(1116);var i=l(215)(l(1079),l(1136),null,null);e.exports=i.exports},930:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(371),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(e,t,l){var i=/^\d{7,12}$/;""!=t&&i.test(t)?l():l(new Error("请输入正确的联系号码"))},n=function(e,t,l){""==t||0==t.length?l(new Error("请选择时间")):l()},r=function(e,t,l){"object"==(void 0===t?"undefined":(0,a.default)(t))&&(new Date).valueOf()<=t.valueOf()?l(new Error("不能选将来时间")):l()},s=function(e,t,l){var i=/^\d{1,7}(\.\d{1,2})?$/;t&&""!=t&&!i.test(t)?l(new Error("整数小于7位且小数点不能超过两位")):l()},m=function(e,t,l){var i=/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X|x)$/;null==t||""==t||i.test(t)?l():l(new Error("身份证号码格式有误"))},d=function(e,t,l,i){return i.c_name&&e.field==e.file?(""==t?l(new Error("该字段不能为空")):l(),!1):void l()},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,l=void 0===t?"不能为空":t,i=e.trigger;return{required:!0,message:l,trigger:void 0===i?"blur":i}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,l=void 0===t?"string":t,i=e.message,a=void 0===i?"不能多于1位":i,o=e.trigger,n=void 0===o?"blur":o,r=e.max;return{type:l,max:void 0===r?1:r,message:a,trigger:n}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,l=void 0===t?"string":t,i=e.message,a=void 0===i?"不能少于1位":i,o=e.trigger,n=void 0===o?"blur":o,r=e.min;return{type:l,min:void 0===r?1:r,message:a,trigger:n}};t.default={idCard:m,phone:o,required:u,max:c,min:p,pointLimit:s,cargoSection:d,curDateLimit:r,dataRange:n}}});
//# sourceMappingURL=25.cbaebaefbcac0ad0eaeb.js.map