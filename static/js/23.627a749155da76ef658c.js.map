{"version":3,"sources":["webpack:///static/js/23.627a749155da76ef658c.js","webpack:///./src/views/organization/common/RoleSelect.vue?c876**","webpack:///./src/views/organization/common/Tree.vue?8d8b*****","webpack:///./src/views/organization/common/RoleSelect.vue?cece*","webpack:///Tree.vue?85a5*****","webpack:///./src/views/organization/common/Tree.vue?f550******","webpack:///RoleSelect.vue?9e98*","webpack:///./src/views/organization/common/RoleSelect.vue?0c2d**","webpack:///./src/views/organization/common/RoleSelect.vue?08f9**"],"names":["webpackJsonp","1064","module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","visible","before-close","beforeClose","append-to-body","modal-append-to-body","title","width","on","update:visible","$event","staticClass","staticStyle","font-size","_v","span","reload","reloadTree","propData","propTree","treeData","callback","treeCallback","finishReload","staffList","disabled","totalLimit","indeterminate","isIndeterminate","change","handleCheckAllChange","model","value","$$v","checkAll","expression","_s","departmentInfo","min","limitLength","max","handleCheckedDepartmentStaffChange","checkedEmployees","_l","staff","key","label","_e","text-align","slot","type","click","closeDialog","staticRenderFns","869","__webpack_require__","Component","871","931","Object","defineProperty","_extends2","_extends3","obj","__esModule","default","_vuex","name","computed","tree","departmentTree","props","data","defaultProps","children","selectDepartment","clickNode","expandKey","nodeLayer","filterText","methods","mapActions","mapGetters","initData","_this","id","$refs","setCurrentKey","_callback","getDepartmentTree","then","_id","reloadData","_this2","treeClick","node","level","getExpand","handleCheckChange","reset","isLeaf","parent","push","filterNode","indexOf","$emit","_data","mounted","watch","init","val","filter","932","placeholder","ref","node-key","default-expanded-keys","filter-node-method","show-checkbox","checkbox","node-click","check-change","942","_interopRequireDefault","_toConsumableArray2","_toConsumableArray3","_Tree","_Tree2","components","Tree","get","dialogFormVisible","set","staffTree","console","log","limit","Array","Number","showModal","treeBackData","initTree","method","dataHandler","department_id","department_name","concat","modalShow","closeModal","form","department","done","getStaffTree","addArr","forEach","index","length","check","position","splice","computedCheck","checkedCount","v","943","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","944","content","locals"],"mappings":"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","file":"static/js/23.627a749155da76ef658c.js","sourcesContent":["webpackJsonp([23,54],{\n\n/***/ 1064:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"role_dialog df pb20\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门树\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree,\n      \"propData\": true,\n      \"propTree\": this.treeData\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"select_dialog\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [(_vm.staffList.length) ? _c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": !_vm.totalLimit,\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(_vm._s(_vm.departmentInfo['department_name']))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mt10 mb10\"\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.totalLimit\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.staffList), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1) : _vm._e()], 1)], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"已选人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.limitLength.max\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.checkedEmployees), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1)], 1)], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 869:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(931),\n  /* template */\n  __webpack_require__(932),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(944)\n\nvar Component = __webpack_require__(215)(\n  /* script */\n  __webpack_require__(942),\n  /* template */\n  __webpack_require__(1064),\n  /* scopeId */\n  \"data-v-6067c4a3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 931:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(370);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Tree',\n  computed: {\n    tree: function tree() {\n      if (this.propData) {\n        return this.propTree || [];\n      }\n      return this.departmentTree();\n    }\n  },\n  props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n  data: function data() {\n    return {\n      defaultProps: {\n        children: 'child_list',\n        label: 'department_name'\n      },\n      selectDepartment: '',\n      clickNode: {},\n      expandKey: [],\n      nodeLayer: 0,\n      filterText: ''\n    };\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getDepartmentTree']), (0, _vuex.mapGetters)(['departmentTree']), {\n    initData: function initData() {\n      var _this = this;\n\n      if (this.propData) {\n        if (this.tree[0] && this.tree[0]['department_id']) {\n          var id = this.tree[0]['department_id'];\n          this.$refs.tree.setCurrentKey(id, true);\n\n          this.selectDepartment = this.tree[0];\n          this._callback(id);\n        }\n      } else {\n        this.getDepartmentTree().then(function () {\n          if (_this.tree[0] && _this.tree[0]['department_id']) {\n            var _id = _this.tree[0]['department_id'];\n            _this.$refs.tree.setCurrentKey(_id, true);\n\n            _this.selectDepartment = _this.tree[0];\n            _this._callback(_id);\n          }\n        });\n      }\n    },\n    reloadData: function reloadData() {\n      var _this2 = this;\n\n      if (this.selectDepartment && this.selectDepartment['department_id']) {\n        var id = this.selectDepartment['department_id'];\n        this.getDepartmentTree().then(function () {\n          _this2.$refs.tree.setCurrentKey(id, true);\n        });\n        this._callback(id, this.selectDepartment);\n      } else {\n        this.initData();\n      }\n    },\n    treeClick: function treeClick(obj, node) {\n      if (this.clickNode === node && this.selectDepartment === obj.id) {\n        return;\n      }\n      this.selectDepartment = obj;\n      this.clickNode = node;\n      this.nodeLayer = node.level;\n      this.getExpand(node, true);\n      this._callback(this.selectDepartment['department_id'], obj);\n    },\n    handleCheckChange: function handleCheckChange() {},\n    getExpand: function getExpand(node, reset) {\n      if (reset) {\n        this.expandKey = [];\n      }\n      if (node.isLeaf) {\n        this.getExpand(node.parent);\n      } else {\n        this.expandKey.push(node.key);\n      }\n    },\n    filterNode: function filterNode(value, data) {\n      if (!value) return true;\n      return data['department_name'].indexOf(value) !== -1;\n    },\n    _callback: function _callback(id, obj) {\n      this.$emit('callback', { id: id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj });\n    }\n  }),\n  mounted: function mounted() {\n    this.initData();\n  },\n\n  watch: {\n    reload: function reload() {\n      if (this.reload.reload) {\n        if (this.reload.init) {\n          this.selectDepartment = {};\n        }\n        this.reloadData();\n        this.$emit('finishReload');\n      }\n    },\n    filterText: function filterText(val) {\n      this.$refs.tree.filter(val);\n    },\n    propTree: function propTree() {\n      this.initData();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 932:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 942:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(216);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _extends2 = __webpack_require__(369);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _Tree = __webpack_require__(869);\n\nvar _Tree2 = _interopRequireDefault(_Tree);\n\nvar _vuex = __webpack_require__(370);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Dialog',\n  components: { Tree: _Tree2.default },\n  props: ['dialogFormVisible', 'limit'],\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    },\n    treeData: function treeData() {\n      return this.staffTree();\n    },\n    limitLength: function limitLength() {\n      var obj = { min: 0, max: 9999 };\n      console.log(obj);\n      if (this.limit) {\n        if (this.limit instanceof Array) {\n          obj.min = Number(this.limit[0]) || 0;\n          obj.max = Number(this.limit[1]) || 9999;\n        } else {\n          obj.max = Number(this.limit) || 9999;\n        }\n      }\n      return obj;\n    }\n  },\n  data: function data() {\n    return {\n      totalLimit: 9999,\n      checkAll: false,\n      showModal: false,\n      reloadTree: false,\n      treeBackData: {},\n      departmentInfo: {},\n      staffList: [],\n      checkedEmployees: [],\n      isIndeterminate: true\n    };\n  },\n  mounted: function mounted() {\n    this.initTree();\n  },\n\n  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['getStaffTree']), (0, _vuex.mapGetters)(['staffTree']), {\n    closeDialog: function closeDialog(method) {\n      this.$emit('closeDialog', this.checkedEmployees);\n      if (method !== 'close') {\n        this.reloadTree = true;\n      }\n    },\n    dataHandler: function dataHandler(data) {\n      this.departmentInfo = { department_id: data.department_id || '', department_name: data.department_name || '' };\n      this.staffList = [].concat((0, _toConsumableArray3.default)(data['staff_list'] || []));\n    },\n    modalShow: function modalShow() {\n      this.showModal = true;\n    },\n    closeModal: function closeModal(value) {\n      this.form.department = value;\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.$emit('closeDialog');\n    },\n    finishReload: function finishReload() {\n      this.reloadTree = false;\n    },\n    treeCallback: function treeCallback(obj) {\n      if (obj['_data']) {\n        this.dataHandler(obj['_data']);\n      }\n    },\n    initTree: function initTree() {\n      this.getStaffTree();\n    },\n    handleCheckAllChange: function handleCheckAllChange(value) {\n      var _this = this;\n\n      if (value) {\n        var addArr = [];\n        this.staffList.forEach(function (staff) {\n          var index = 1;\n          if (_this.checkedEmployees.length) {\n            _this.checkedEmployees.forEach(function (check) {\n              if (staff.id === check.id) {\n                index = 0;\n              }\n            });\n          }\n          if (index) {\n            addArr.push(staff);\n          }\n        });\n        this.checkedEmployees = [].concat((0, _toConsumableArray3.default)(this.checkedEmployees), addArr);\n      } else {\n        this.staffList.forEach(function (staff) {\n          var position = null;\n          if (_this.checkedEmployees.length) {\n            _this.checkedEmployees.forEach(function (check, index) {\n              if (staff.id === check.id) {\n                position = index;\n              }\n            });\n          }\n          if (position || position === 0) {\n            _this.checkedEmployees.splice(position, 1);\n          }\n        });\n      }\n      this.isIndeterminate = false;\n    },\n    handleCheckedDepartmentStaffChange: function handleCheckedDepartmentStaffChange(value) {\n      this.computedCheck(value);\n    },\n    computedCheck: function computedCheck(value) {\n      var _this2 = this;\n\n      var data = value || this.checkedEmployees;\n      var checkedCount = 0;\n      if (data.length) {\n        data.forEach(function (v) {\n          if (_this2.staffList.length) {\n            _this2.staffList.forEach(function (staff) {\n              if (staff.id === v.id) {\n                checkedCount += 1;\n              }\n            });\n          }\n        });\n      }\n      this.checkAll = checkedCount === this.staffList.length;\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.staffList.length;\n    }\n  }),\n  watch: {\n    staffList: function staffList() {\n      if (this.staffList.length === 0) {\n        this.checkAll = false;\n        this.isIndeterminate = true;\n      } else {\n        this.computedCheck();\n      }\n    },\n    checkedEmployees: function checkedEmployees() {\n      console.log(this.checkedEmployees);\n      var length = this.checkedEmployees.length;\n      console.log(this.limitLength);\n      var max = this.limitLength.max;\n      this.totalLimit = max - length;\n      console.log(this.totalLimit);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 943:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(867)();\n// imports\n\n\n// module\nexports.push([module.i, \".role_dialog[data-v-6067c4a3]{justify-content:space-around;height:360px}.of[data-v-6067c4a3]{height:100%;overflow:auto}.select_dialog[data-v-6067c4a3]{display:flex;justify-content:space-between;flex-direction:column}.select_dialog>div[data-v-6067c4a3]{height:150px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/common/RoleSelect.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,6BAA8B,AAC9B,YAAc,CACf,AACD,qBACE,YAAa,AACb,aAAe,CAChB,AACD,gCACE,aAAc,AACd,8BAA+B,AAC/B,qBAAuB,CACxB,AACD,oCACI,YAAc,CACjB\",\"file\":\"RoleSelect.vue\",\"sourcesContent\":[\"\\n.role_dialog[data-v-6067c4a3] {\\n  justify-content: space-around;\\n  height: 360px;\\n}\\n.of[data-v-6067c4a3] {\\n  height: 100%;\\n  overflow: auto;\\n}\\n.select_dialog[data-v-6067c4a3] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n}\\n.select_dialog > div[data-v-6067c4a3] {\\n    height: 150px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 944:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(943);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(868)(\"36ef5677\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/23.627a749155da76ef658c.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.visible,\n      \"before-close\": _vm.beforeClose,\n      \"append-to-body\": false,\n      \"modal-append-to-body\": false,\n      \"title\": \"选择人员\",\n      \"width\": \"800px\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.visible = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"role_dialog df pb20\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门树\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('Tree', {\n    attrs: {\n      \"reload\": _vm.reloadTree,\n      \"propData\": true,\n      \"propTree\": this.treeData\n    },\n    on: {\n      \"callback\": _vm.treeCallback,\n      \"finishReload\": _vm.finishReload\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"select_dialog\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"部门人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [(_vm.staffList.length) ? _c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": !_vm.totalLimit,\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(_vm._s(_vm.departmentInfo['department_name']))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mt10 mb10\"\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.totalLimit\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.staffList), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1) : _vm._e()], 1)], 1)]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"mb5\",\n    staticStyle: {\n      \"font-size\": \"16px\"\n    }\n  }, [_vm._v(\"已选人员\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p15 w300 bl bt br bb of\"\n  }, [_c('el-row', [_c('el-col', {\n    staticClass: \"ml10 mr10 mt10 mb10\",\n    attrs: {\n      \"span\": 20\n    }\n  }, [_c('el-checkbox-group', {\n    staticClass: \"ml10\",\n    attrs: {\n      \"min\": _vm.limitLength.min,\n      \"max\": _vm.limitLength.max\n    },\n    on: {\n      \"change\": _vm.handleCheckedDepartmentStaffChange\n    },\n    model: {\n      value: (_vm.checkedEmployees),\n      callback: function($$v) {\n        _vm.checkedEmployees = $$v\n      },\n      expression: \"checkedEmployees\"\n    }\n  }, _vm._l((_vm.checkedEmployees), function(staff) {\n    return _c('el-checkbox', {\n      key: staff['id'],\n      attrs: {\n        \"label\": staff\n      }\n    }, [_vm._v(_vm._s(staff['staff_name']))])\n  }))], 1)], 1)], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer mt10\",\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('save')\n      }\n    }\n  }, [_vm._v(\"保 存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.closeDialog('close')\n      }\n    }\n  }, [_vm._v(\"取 消\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6067c4a3\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 1064\n// module chunks = 3 10 23","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tree.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ef36022\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tree.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/common/Tree.vue\n// module id = 869\n// module chunks = 3 4 8 9 10 22 23 54","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6067c4a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleSelect.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleSelect.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6067c4a3\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleSelect.vue\"),\n  /* scopeId */\n  \"data-v-6067c4a3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/organization/common/RoleSelect.vue\n// module id = 871\n// module chunks = 3 10 23","<template>\n  <div>\n    <div class='searchInput' v-if=\"filter\">\n      <el-input\n        placeholder='搜索'\n        v-model='filterText'>\n        <i slot='prefix' class='el-input__icon el-icon-search'></i>\n      </el-input>\n    </div>\n    <el-tree\n      :data='tree'\n      :props='defaultProps'\n      node-key=\"department_id\"\n      @node-click=\"treeClick\"\n      :default-expanded-keys=\"expandKey\"\n      ref=\"tree\"\n      :filter-node-method=\"filterNode\"\n      :show-checkbox=\"checkbox || false\"\n      @check-change=\"handleCheckChange\"\n    >\n    </el-tree>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from 'vuex'\n\n  export default {\n    name: 'Tree',\n    computed: {\n      tree() {\n        if (this.propData) {\n          return this.propTree || []\n        }\n        return this.departmentTree()\n      }\n    },\n    props: ['reload', 'filter', 'propTree', 'propData', 'checkbox'],\n    data() {\n      return {\n        defaultProps: {\n          children: 'child_list',\n          label: 'department_name'\n        },\n        selectDepartment: '',\n        clickNode: {},\n        expandKey: [],\n        nodeLayer: 0,\n        filterText: ''\n      }\n    },\n    methods: {\n      ...mapActions(['getDepartmentTree']),\n      ...mapGetters(['departmentTree']),\n      initData() {\n        if (this.propData) {\n          if (this.tree[0] && this.tree[0]['department_id']) {\n            let id = this.tree[0]['department_id']\n            this.$refs.tree.setCurrentKey(id, true)\n            // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n            this.selectDepartment = this.tree[0]\n            this._callback(id)\n          }\n        } else {\n          this.getDepartmentTree().then(() => {\n            if (this.tree[0] && this.tree[0]['department_id']) {\n              let id = this.tree[0]['department_id']\n              this.$refs.tree.setCurrentKey(id, true)\n              // this.expandKey[0] = this.tree[0]['department_id']  默认展开\n              this.selectDepartment = this.tree[0]\n              this._callback(id)\n            }\n          })\n        }\n      },\n      reloadData() {\n        if (this.selectDepartment && this.selectDepartment['department_id']) {\n          let id = this.selectDepartment['department_id']\n          this.getDepartmentTree().then(() => {\n            this.$refs.tree.setCurrentKey(id, true)\n          })\n          this._callback(id, this.selectDepartment)\n        } else {\n          this.initData()\n        }\n      },\n      treeClick(obj, node) {\n        if (this.clickNode === node && this.selectDepartment === obj.id) {\n          return\n        }\n        this.selectDepartment = obj\n        this.clickNode = node\n        this.nodeLayer = node.level\n        this.getExpand(node, true)\n        this._callback(this.selectDepartment['department_id'], obj)\n      },\n      handleCheckChange() {\n\n      },\n      getExpand(node, reset) {\n        if (reset) {\n          this.expandKey = []\n        }\n        if (node.isLeaf) {\n          this.getExpand(node.parent)\n        } else {\n          this.expandKey.push(node.key)\n        }\n      },\n      filterNode(value, data) {\n        if (!value) return true\n        return data['department_name'].indexOf(value) !== -1\n      },\n      _callback(id, obj) {\n        this.$emit('callback', {id, nodeLayer: this.nodeLayer, selectDepartment: this.selectDepartment, _data: obj})\n      }\n    },\n    mounted() {\n      this.initData()\n    },\n    watch: {\n      reload() {\n        if(this.reload.reload) {\n          if (this.reload.init) {\n            this.selectDepartment = {}\n          }\n          this.reloadData()\n          this.$emit('finishReload')\n        }\n      },\n      filterText(val) {\n        this.$refs.tree.filter(val)\n      },\n      propTree() {\n        this.initData()\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// Tree.vue?702ed200","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.filter) ? _c('div', {\n    staticClass: \"searchInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1) : _vm._e(), _vm._v(\" \"), _c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.tree,\n      \"props\": _vm.defaultProps,\n      \"node-key\": \"department_id\",\n      \"default-expanded-keys\": _vm.expandKey,\n      \"filter-node-method\": _vm.filterNode,\n      \"show-checkbox\": _vm.checkbox || false\n    },\n    on: {\n      \"node-click\": _vm.treeClick,\n      \"check-change\": _vm.handleCheckChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ef36022\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/organization/common/Tree.vue\n// module id = 932\n// module chunks = 3 4 8 9 10 22 23 54","<template>\r\n  <div>\r\n    <el-dialog :visible.sync=\"visible\" :before-close=\"beforeClose\" :append-to-body=\"false\" :modal-append-to-body=\"false\"\r\n               title=\"选择人员\" width=\"800px\">\r\n      <div class=\"role_dialog df pb20\">\r\n        <div>\r\n          <div class=\"mb5\" style=\"font-size: 16px\">部门树</div>\r\n          <div class=\"p15 w300 bl bt br bb of\">\r\n            <el-row>\r\n              <el-col :span=\"20\">\r\n                <Tree @callback=\"treeCallback\" :reload=\"reloadTree\" @finishReload=\"finishReload\" :propData=true :propTree=\"this.treeData\" ></Tree>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n        <div class=\"select_dialog\">\r\n          <div>\r\n            <div class=\"mb5\" style=\"font-size: 16px\">部门人员</div>\r\n            <div class=\"p15 w300 bl bt br bb of\">\r\n              <el-row>\r\n                <el-col :span=\"20\" v-if=\"staffList.length\" class=\"ml10 mr10 mt10 mb10\">\r\n                  <el-checkbox :disabled=\"!totalLimit\" :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">{{departmentInfo['department_name']}}</el-checkbox>\r\n                  <div class=\"mt10 mb10\"></div>\r\n                  <el-checkbox-group class=\"ml10\" :min='limitLength.min' :max=\"totalLimit\" v-model=\"checkedEmployees\" @change=\"handleCheckedDepartmentStaffChange\">\r\n                    <el-checkbox v-for=\"staff in staffList\" :label=\"staff\" :key=\"staff['id']\">{{staff['staff_name']}}</el-checkbox>\r\n                  </el-checkbox-group>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"mb5\" style=\"font-size: 16px\">已选人员</div>\r\n            <div class=\"p15 w300 bl bt br bb of\">\r\n              <el-row>\r\n                <el-col :span=\"20\" class=\"ml10 mr10 mt10 mb10\">\r\n                  <el-checkbox-group :min='limitLength.min' :max=\"limitLength.max\" class=\"ml10\" v-model=\"checkedEmployees\" @change=\"handleCheckedDepartmentStaffChange\">\r\n                    <el-checkbox v-for=\"staff in checkedEmployees\" :label=\"staff\" :key=\"staff['id']\">{{staff['staff_name']}}</el-checkbox>\r\n                  </el-checkbox-group>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer mt10\" style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"closeDialog('save')\">保 存</el-button>\r\n        <el-button @click=\"closeDialog('close')\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import Tree from './Tree.vue'\r\n  import { mapActions, mapGetters } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Dialog',\r\n    components: {Tree},\r\n    props: ['dialogFormVisible', 'limit'],\r\n    computed: {\r\n      visible: {\r\n        get: function () {\r\n          return this.dialogFormVisible\r\n        },\r\n        set: function () {\r\n        }\r\n      },\r\n      treeData() {\r\n        return this.staffTree()\r\n      },\r\n      limitLength() {\r\n        const obj = {min: 0, max: 9999}\r\n        console.log(obj)\r\n        if(this.limit) {\r\n          if(this.limit instanceof Array) {\r\n            obj.min = Number(this.limit[0]) || 0\r\n            obj.max = Number(this.limit[1]) || 9999\r\n          } else {\r\n            obj.max = Number(this.limit) || 9999\r\n          }\r\n        }\r\n        return obj\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        totalLimit: 9999,\r\n        checkAll: false,\r\n        showModal: false,\r\n        reloadTree: false,\r\n        treeBackData: {},\r\n        departmentInfo: {},\r\n        staffList: [],\r\n        checkedEmployees: [],\r\n        isIndeterminate: true\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initTree()\r\n    },\r\n    methods: {\r\n      ...mapActions(['getStaffTree']),\r\n      ...mapGetters(['staffTree']),\r\n      closeDialog(method) {\r\n        this.$emit('closeDialog', this.checkedEmployees)\r\n        if (method !== 'close') {\r\n          this.reloadTree = true\r\n        }\r\n      },\r\n      dataHandler(data) {\r\n        this.departmentInfo = {department_id: data.department_id || '', department_name: data.department_name || ''}\r\n        this.staffList = [...data['staff_list'] || []]\r\n      },\r\n      modalShow() {\r\n        this.showModal = true\r\n      },\r\n      closeModal(value) {\r\n        this.form.department = value\r\n      },\r\n      beforeClose(done) {\r\n        done()\r\n        this.$emit('closeDialog')\r\n      },\r\n      finishReload() {\r\n        this.reloadTree = false\r\n      },\r\n      treeCallback(obj) {\r\n        if (obj['_data']) {\r\n          this.dataHandler(obj['_data'])\r\n        }\r\n      },\r\n      initTree() {\r\n        this.getStaffTree()\r\n      },\r\n      handleCheckAllChange(value) {\r\n        if (value) {\r\n          const addArr = []\r\n          this.staffList.forEach(staff => {\r\n            let index = 1\r\n            if(this.checkedEmployees.length) {\r\n              this.checkedEmployees.forEach(check => {\r\n                if (staff.id === check.id) {\r\n                  index = 0\r\n                }\r\n              })\r\n            }\r\n            if (index) {\r\n              addArr.push(staff)\r\n            }\r\n          })\r\n          this.checkedEmployees = [...this.checkedEmployees, ...addArr]\r\n        } else {\r\n          this.staffList.forEach(staff => {\r\n            let position = null\r\n            if(this.checkedEmployees.length) {\r\n              this.checkedEmployees.forEach((check, index) => {\r\n                if (staff.id === check.id) {\r\n                  position = index\r\n                }\r\n              })\r\n            }\r\n            if (position || position === 0) {\r\n              this.checkedEmployees.splice(position, 1)\r\n            }\r\n          })\r\n        }\r\n        this.isIndeterminate = false;\r\n      },\r\n      handleCheckedDepartmentStaffChange(value) {\r\n        this.computedCheck(value)\r\n      },\r\n      computedCheck(value) {\r\n        let data = value || this.checkedEmployees\r\n        let checkedCount = 0\r\n        if (data.length) {\r\n          data.forEach(v => {\r\n            if (this.staffList.length) {\r\n              this.staffList.forEach(staff => {\r\n                if (staff.id === v.id) {\r\n                  checkedCount += 1\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n        this.checkAll = checkedCount === this.staffList.length;\r\n        this.isIndeterminate = checkedCount > 0 && checkedCount < this.staffList.length;\r\n      }\r\n    },\r\n    watch: {\r\n      staffList: function() {\r\n        if (this.staffList.length === 0) {\r\n          this.checkAll = false\r\n          this.isIndeterminate = true\r\n        } else {\r\n          this.computedCheck()\r\n        }\r\n      },\r\n      checkedEmployees: function() {\r\n        console.log(this.checkedEmployees)\r\n        const length = this.checkedEmployees.length\r\n        console.log(this.limitLength)\r\n        const max = this.limitLength.max\r\n        this.totalLimit = max - length\r\n        console.log(this.totalLimit)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .role_dialog{\r\n    justify-content: space-around;\r\n    height: 360px;\r\n  }\r\n  .of{\r\n    height: 100%;\r\n    overflow: auto;\r\n  }\r\n  .select_dialog{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-direction: column;\r\n    >div{\r\n      height: 150px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// RoleSelect.vue?e1d57e6e","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".role_dialog[data-v-6067c4a3]{justify-content:space-around;height:360px}.of[data-v-6067c4a3]{height:100%;overflow:auto}.select_dialog[data-v-6067c4a3]{display:flex;justify-content:space-between;flex-direction:column}.select_dialog>div[data-v-6067c4a3]{height:150px}\", \"\", {\"version\":3,\"sources\":[\"D:/桌面/personal/project/web-project/src/views/organization/common/RoleSelect.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,6BAA8B,AAC9B,YAAc,CACf,AACD,qBACE,YAAa,AACb,aAAe,CAChB,AACD,gCACE,aAAc,AACd,8BAA+B,AAC/B,qBAAuB,CACxB,AACD,oCACI,YAAc,CACjB\",\"file\":\"RoleSelect.vue\",\"sourcesContent\":[\"\\n.role_dialog[data-v-6067c4a3] {\\n  justify-content: space-around;\\n  height: 360px;\\n}\\n.of[data-v-6067c4a3] {\\n  height: 100%;\\n  overflow: auto;\\n}\\n.select_dialog[data-v-6067c4a3] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n}\\n.select_dialog > div[data-v-6067c4a3] {\\n    height: 150px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6067c4a3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 943\n// module chunks = 3 10 23","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-6067c4a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RoleSelect.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"36ef5677\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6067c4a3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/organization/common/RoleSelect.vue\n// module id = 944\n// module chunks = 3 10 23"],"sourceRoot":""}